import{a as e,l as t,A as n,y as r,s as a,e as i,d as o,O as s,j as l,p as c,q as u,F as A,h as d}from"./preact-vendor-chunk-623fc734.js";import{p as m,c as p}from"./corejs-chunk-858d8195.js";import{s as h,c as g,a as f,S as v,b as y,i as _,E}from"./sentry-chunk-493b9b37.js";import{i as w,r as b}from"./lingui-chunk-fb097bac.js";Object.freeze({initialize:function({modulePath:e=".",importFunctionName:t="__import__"}={}){try{self[t]=new Function("u","return import(u)")}catch(n){const r=new URL(e,location),a=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((n,i)=>{const o=new URL(e,r);if(self[t].moduleMap[o])return n(self[t].moduleMap[o]);const s=new Blob([`import * as m from '${o}';`,`${t}.moduleMap['${o}']=m;`],{type:"text/javascript"}),l=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(s),onerror(){i(new Error(`Failed to import: ${e}`)),a(l)},onload(){n(self[t].moduleMap[o]),a(l)}});document.head.appendChild(l)})),self[t].moduleMap={}}}}).initialize();var T=e((function(e){var t=m.Object,n=e.exports=function(e,n,r){return t.defineProperty(e,n,r)};t.defineProperty.sham&&(n.sham=!0)})),I=T,C=e((function(e){var t=m.Object,n=e.exports=function(e,n){return t.defineProperties(e,n)};t.defineProperties.sham&&(n.sham=!0)})),k=m.Object.getOwnPropertyDescriptors,S=e((function(e){var t=m.Object,n=e.exports=function(e,n){return t.getOwnPropertyDescriptor(e,n)};t.getOwnPropertyDescriptor.sham&&(n.sham=!0)})),M=m.Object.getOwnPropertySymbols,B=M,O=function(e){return m[e+"Prototype"]},L=O("Array").includes,R=O("String").includes,D=Array.prototype,U=String.prototype,x=function(e){var t=e.includes;return e===D||e instanceof Array&&t===D.includes?L:"string"==typeof e||e===U||e instanceof String&&t===U.includes?R:t},F=O("Array").map,N=Array.prototype,P=function(e){var t=e.map;return e===N||e instanceof Array&&t===N.map?F:t},Q=m.Object.keys,V=Q,H=O("Array").forEach,W=Array.prototype,j={DOMTokenList:!0,NodeList:!0},z=function(e){var t=e.forEach;return e===W||e instanceof Array&&t===W.forEach||j.hasOwnProperty(p(e))?H:t},q=m.setTimeout,G=O("Array").find,Y=Array.prototype,K=function(e){var t=e.find;return e===Y||e instanceof Array&&t===Y.find?G:t},Z=O("Array").filter,J=Array.prototype,X=function(e){var t=e.filter;return e===J||e instanceof Array&&t===J.filter?Z:t},$=O("Array").concat,ee=Array.prototype,te=function(e){var t=e.concat;return e===ee||e instanceof Array&&t===ee.concat?$:t},ne=T;function re(e,t,n){return t in e?ne(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ae=m.Promise,ie=ae;function oe(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):ie.resolve(l).then(r,a)}function se(e){return function(){var t=this,n=arguments;return new ie((function(r,a){var i=e.apply(t,n);function o(e){oe(i,r,a,o,s,"next",e)}function s(e){oe(i,r,a,o,s,"throw",e)}o(void 0)}))}}var le=e=>e&&"incoming"!==e.direction&&!Boolean("event"in e),ce=e=>{var t=X(e).call(e,(e=>le(e)));return t[t.length-1]},ue=e=>{try{window.parent.postMessage(e,"*")}catch(e){console.error("Failed to Send PostMessage to Parent: ".concat(e))}},Ae=m.parseInt,de=O("Array").some,me=Array.prototype,pe=function(e){var t=e.some;return e===me||e instanceof Array&&t===me.some?de:t};m.JSON||(m.JSON={stringify:JSON.stringify});var he,ge=function(e,t,n){return m.JSON.stringify.apply(null,arguments)},fe=(e,t,n)=>{try{0,console.error("MessageBird Livechat: ".concat(t),e),t&&h("info",t),n&&h("extra",n),g(e)}catch(e){console.error("Error while capturing error in livechat widget: ",e)}},ve=(e,t,n,r)=>{try{0,console.error("MessageBird Livechat: ".concat(t),e),t&&h("info",t),n&&h("widgetId",n),r&&h("userId",r);var a=we("userId");a&&h("stored_userId",a),g(e,{tags:{type:t,userId:r,widgetId:n}})}catch(e){console.error("Error while capturing error in livechat widget: ",e)}},ye={};try{if(null===window.localStorage)throw Error("Local storage is not available");he=window.localStorage}catch(e){he={getItem:e=>ye&&e in ye?"".concat(ye[e]):null,setItem:(e,t)=>{ye[e]="".concat(t)},removeItem:e=>{ye[e]=void 0}}}var _e=(e,t)=>{try{var n="object"==typeof t?ge(t):t;null==he||he.setItem(e,n)}catch(e){fe(e,"saveToLocalStorage failed")}},Ee=e=>{try{null==he||he.removeItem(e)}catch(e){fe(e,"removeFromLocalStorage failed")}};function we(e){try{var t=null==he?void 0:he.getItem(e);return be(e,t)}catch(e){return void fe(e,"getFromLocalStorage failed")}}var be=(e,t)=>{var n,r;return null==t?t:pe(n=["messages","thread","failedMessagesQueue"]).call(n,(t=>x(e).call(e,t)))?JSON.parse(t):pe(r=["widgetLoadCount"]).call(r,(t=>x(e).call(e,t)))?Ae(t):"true"===t||"false"===t?JSON.parse(t):t},Te=()=>{var e="checking-storage...";try{return localStorage.setItem(e,"true"),localStorage.removeItem(e),!0}catch(e){return!1}},Ie=(e,a,i)=>{var o,s,l=te(o="".concat(e,":")).call(o,i),c=null!==(s=we(l))&&void 0!==s?s:a,[u,A]=t(c),[d,m]=t(!1),p=n((e=>{if(i){if("function"==typeof e){var t=e(c);return _e(l,t),A(t),t}return _e(l,e),A(e),c}}),[l,i,c]);return r((()=>{if(i){var e=we(l);e&&A(e),m(!0)}}),[i,l]),r((()=>{if(i){var t,n,r,a;"mb"===i&&(t=e,(a=we(K(n=V(he)).call(n,(e=>x(e).call(e,t)&&/:.{36}$/.test(e)))))&&(_e(te(r="".concat(e,":")).call(r,"mb"),a),A(a),Ee(l))),(()=>{var t=we(e);t&&(_e(l,t),A(t),Ee(e))})()}}),[i,e,l]),{storageState:u,setStorageState:p,removeStorageState:n((()=>{i&&(Ee(l),A(void 0))}),[l,i]),isStorageStateReady:d}},Ce={"--color-main":"mainColor","--color-secondary":"secondaryColor","--color-avatar-background":"avatarColor","--bubble-color":"bubblesColor"};function ke(e,t){return t?"other":1==e?"one":"other"}function Se(e,t){var n=!String(e).split(".")[1];return t?"other":1==e&&n?"one":"other"}function Me(e,t){return"other"}function Be(e,t){var n=String(e).split(".")[0];return t?"other":0==n||1==n?"one":"other"}var Oe=["en","nl","de","es","fr","id","pt","ru","it","tr","el","pt_BR","ar","zh","zh_HK","he","th"],Le={en:function(e,t){var n=String(e).split("."),r=!n[1],a=Number(n[0])==e,i=a&&n[0].slice(-1),o=a&&n[0].slice(-2);return t?1==i&&11!=o?"one":2==i&&12!=o?"two":3==i&&13!=o?"few":"other":1==e&&r?"one":"other"},es:ke,nl:Se,de:Se,fr:function(e,t){return t?1==e?"one":"other":e>=0&&e<2?"one":"other"},pt:Be,pt_BR:Be,id:Me,ru:function(e,t){var n=String(e).split("."),r=n[0],a=!n[1],i=r.slice(-1),o=r.slice(-2);return t?"other":a&&1==i&&11!=o?"one":a&&i>=2&&i<=4&&(o<12||o>14)?"few":a&&0==i||a&&i>=5&&i<=9||a&&o>=11&&o<=14?"many":"other"},it:function(e,t){var n=!String(e).split(".")[1];return t?11==e||8==e||80==e||800==e?"many":"other":1==e&&n?"one":"other"},tr:ke,el:ke,zh:Me,zh_HK:Me,he:function(e,t){var n=String(e).split("."),r=n[0],a=!n[1],i=Number(n[0])==e,o=i&&n[0].slice(-1);return t?"other":1==e&&a?"one":2==r&&a?"two":a&&(e<0||e>10)&&i&&0==o?"many":"other"},th:Me,ar:function(e,t){var n=String(e).split("."),r=Number(n[0])==e&&n[0].slice(-2);return t?"other":0==e?"zero":1==e?"one":2==e?"two":r>=3&&r<=10?"few":r>=11&&r<=99?"many":"other"}};function Re(e,t){var n=V(e);if(B){var r=B(e);t&&(r=X(r).call(r,(function(t){return S(e,t).enumerable}))),n.push.apply(n,r)}return n}var De=function(){var e=se((function*(e){var{url:t,body:n,token:r,method:a,contentType:i="application/json",isJSON:o=!0,extraHeaders:s}=e;try{var l,c=new Headers(function(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)z(n=Re(Object(r),!0)).call(n,(function(t){re(e,t,r[t])}));else if(k)C(e,k(r));else{var a;z(a=Re(Object(r))).call(a,(function(t){I(e,t,S(r,t))}))}}return e}({Authorization:"Bearer ".concat(r),"Content-Type":i},s));return yield fetch(te(l="".concat("https://messaging.messagebird.com","/")).call(l,t),{method:a||"GET",mode:"cors",headers:c,body:o?ge(n):n})}catch(e){return fe(e,t),e}}));return function(t){return e.apply(this,arguments)}}(),Ue=(e,t,n,r,a,i)=>De({url:e,body:t,method:"POST",token:n,contentType:r,isJSON:a,extraHeaders:i}),xe=function(){var e=se((function*(e,t,n,r){var a,i=window.btoa(n),o=yield Ue(te(a="livechat/v2/channels/".concat(t,"/users/")).call(a,i,"/login"),{identifier:e},r);return yield o.json()}));return function(t,n,r,a){return e.apply(this,arguments)}}(),Fe=function(){var e=se((function*(e,t,n,r,a){var i,o,s,l,c,u,A,d,m=window.btoa(t),p=yield((e,t,n)=>De({url:e,token:t,method:"GET",contentType:n}))(te(i=te(o="livechat/v2/channels/".concat(e,"/users/")).call(o,m,"/attachments/")).call(i,r),n,a);return x(s=p.headers.get("Content-Type")).call(s,"image")||x(l=p.headers.get("Content-Type")).call(l,"pdf")||x(c=p.headers.get("Content-Type")).call(c,"officedocument.wordprocessingml")||x(u=p.headers.get("Content-Type")).call(u,"audio")||x(A=p.headers.get("Content-Type")).call(A,"video")||x(d=p.headers.get("Content-Type")).call(d,"stream")?{blob:yield p.blob(),fileName:p.headers.get("Content-Disposition")}:yield p.json()}));return function(t,n,r,a,i){return e.apply(this,arguments)}}(),Ne=function(){var e=se((function*(e,t,n,r,a){var i,o={"Content-Type":a,"Content-Disposition":'attachment; filename="'.concat(r.name,'"')},s=window.btoa(t),l=yield Ue(te(i="livechat/v2/channels/".concat(e,"/users/")).call(i,s,"/attachments"),r,n,a,!1,o);return yield l.json()}));return function(t,n,r,a,i){return e.apply(this,arguments)}}(),Pe=function(){var e=se((function*(e,t){yield Ue("livechat/v3/channels/".concat(e,"/threads"),{},t)}));return function(t,n){return e.apply(this,arguments)}}(),Qe=O("Array").reduce,Ve=Array.prototype,He=function(e){var t=e.reduce;return e===Ve||e instanceof Array&&t===Ve.reduce?Qe:t},We=e=>{var t={};for(var n in e)t[n]=je(n,e[n]);return t},je=(e,t)=>{if(x(e).call(e,"{")&&x(e).call(e,"}")&&"string"==typeof t){var n,[r,a]=t.split(/{/),[i,o]=a.split(/}/);return X(n=[r,[i],o]).call(n,(e=>Boolean(e)))}return t};function ze(e){switch(e){case"./locales/ar/messages.js":return __import__("./messages-chunk-02fd1123.js").then((function(e){return e.m}));case"./locales/de/messages.js":return __import__("./messages-chunk-b781603c.js").then((function(e){return e.m}));case"./locales/el/messages.js":return __import__("./messages-chunk-fc691580.js").then((function(e){return e.m}));case"./locales/en/messages.js":return __import__("./messages-chunk-10d33565.js").then((function(e){return e.m}));case"./locales/es/messages.js":return __import__("./messages-chunk-9bb4e5ab.js").then((function(e){return e.m}));case"./locales/fr/messages.js":return __import__("./messages-chunk-42e0f1f0.js").then((function(e){return e.m}));case"./locales/he/messages.js":return __import__("./messages-chunk-260b7823.js").then((function(e){return e.m}));case"./locales/id/messages.js":return __import__("./messages-chunk-fd108af3.js").then((function(e){return e.m}));case"./locales/it/messages.js":return __import__("./messages-chunk-f01f7fc7.js").then((function(e){return e.m}));case"./locales/nl/messages.js":return __import__("./messages-chunk-509257ac.js").then((function(e){return e.m}));case"./locales/pt/messages.js":return __import__("./messages-chunk-d99e098c.js").then((function(e){return e.m}));case"./locales/pt_BR/messages.js":return __import__("./messages-chunk-50eb585e.js").then((function(e){return e.m}));case"./locales/pt_PT/messages.js":return __import__("./messages-chunk-b6841516.js").then((function(e){return e.m}));case"./locales/ru/messages.js":return __import__("./messages-chunk-4180d284.js").then((function(e){return e.m}));case"./locales/th/messages.js":return __import__("./messages-chunk-95c544aa.js").then((function(e){return e.m}));case"./locales/tr/messages.js":return __import__("./messages-chunk-7ed3ef2b.js").then((function(e){return e.m}));case"./locales/zh/messages.js":return __import__("./messages-chunk-9d085c69.js").then((function(e){return e.m}));case"./locales/zh_HK/messages.js":return __import__("./messages-chunk-1c51e4fa.js").then((function(e){return e.m}));default:return Promise.reject(new Error("Unknown variable dynamic import: "+e))}}function qe(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=se((function*(e){var{messages:t}=yield ze("./locales/".concat(e,"/messages.js"));return t}))).apply(this,arguments)}function Ye(e,t){return Ke.apply(this,arguments)}function Ke(){return(Ke=se((function*(e,t){var n;return(yield fetch(te(n="https://messaging.messagebird.com/livechat/widget/".concat(t,"/translations/")).call(n,e))).json()}))).apply(this,arguments)}function Ze(e,t){return Je.apply(this,arguments)}function Je(){return(Je=se((function*(e,t){w.loadLocaleData(e,{plurals:Le[e]}),w.load(e,t),w.activate(e)}))).apply(this,arguments)}var[Xe]=navigator.language.split("-");function $e(e){return et.apply(this,arguments)}function et(){return(et=se((function*(e){Ze(e,yield qe(e))}))).apply(this,arguments)}function tt(e,t){return nt.apply(this,arguments)}function nt(){return(nt=se((function*(e,t){var n=yield Ye(e,t);Ze(e,We(n))}))).apply(this,arguments)}function rt(e,t){var n=V(e);if(B){var r=B(e);t&&(r=X(r).call(r,(function(t){return S(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)z(n=rt(Object(r),!0)).call(n,(function(t){re(e,t,r[t])}));else if(k)C(e,k(r));else{var a;z(a=rt(Object(r))).call(a,(function(t){I(e,t,S(r,t))}))}}return e}x(Oe).call(Oe,Xe);var it=(e,t,n,i,o)=>{var s=a(!1),l=(()=>{var e=navigator.language;if(x(e).call(e,"zh"))return"zh"===e||"zh-cn"===e||"zh-CN"===e?e:"zh_HK";var[t]=navigator.language.split("-");return t})();t&&!1===s.current&&(ot(t,e||"en",n,o),s.current=!0),!1===s.current&&(ot(l,e||"en",n,o),s.current=!0),r((()=>{e&&i?ot(e,e,n,o):e&&ot(l,e,n,o)}),[e,i,n,l,o])},ot=function(){var e=se((function*(e,t,n,r){var a=(e=>{var t=He(Oe).call(Oe,((e,t)=>at(at({},e),{},{[t]:"default"})),{});return at(at({},t),e)})(n),i=a[t];if(e in a){var o=a[e];if("default"===o)return $e(e);if("custom"===o)return tt(e,r)}return"custom"===i?tt(t,r):$e(t)}));return function(t,n,r,a){return e.apply(this,arguments)}}(),st=(e,t,n)=>{for(var r=[],a=e.length-1;a>=0;a--)if(t(e[a])&&r.push(e[a]),r.length===n)return r;return r},lt=(e,t)=>{var n;return null===(n=st(e,t,1))||void 0===n?void 0:n[0]},ct=(e,t)=>{var n=lt(e||[],(e=>"incoming"===e.direction&&!e.event)),r=null!=e&&e.length?e[(null==e?void 0:e.length)-1]:null;if(!n||"outgoing"===(null==r?void 0:r.direction))return!1;var a=new Date(n.createdAt).getTime()+1e4,i=(new Date).getTime();return n.payload.text===t&&i<=a},ut=function(){try{console.log(...arguments)}catch(e){}},At=Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",second:"numeric",fractionalSecondDigits:2}),dt=()=>At.format(new Date),mt=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#000000",n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return[dt()+" %c "+e+" ","color:"+t+";font-weight: 700",...r]},pt=(e,t)=>{var n=t||!0;return{warn:function(t){var r;if(!n){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];ut(...mt(te(r="".concat(e,":")).call(r,t),"#ecda00",...i))}},error:function(t){var r;if(!n){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];ut(...mt(te(r="".concat(e,":")).call(r,t),"#b30505",...i))}},info:function(t){var r;if(!n){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];ut(...mt(te(r="".concat(e,":")).call(r,t),"#2eb8f8",...i))}},success:function(t){var r;if(!n){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];ut(...mt(te(r="".concat(e,":")).call(r,t),"#73c276",...i))}}}},ht={messageWrapper:"styles_messageWrapper__1HouA",message:"styles_message__AyABk",sameUser:"styles_sameUser__1awmJ",outgoing:"styles_outgoing__1VYKo",incoming:"styles_incoming__3aosf",date:"styles_date__2USDo",avatar:"styles_avatar__id67q",footer:"styles_footer__PCkie",failed:"styles_failed__3cheF",downloadStatusWrapper:"styles_downloadStatusWrapper__2mHMQ",messageButtons:"styles_messageButtons__3UxXI",link:"styles_link__15QvB",qrCode:"styles_qrCode__1ZgnK",attachment_image:"styles_attachment_image__1AbBS",attachment_download:"styles_attachment_download__3Q4qG",documentPreview:"styles_documentPreview__1IhXz",documentIcon:"styles_documentIcon__3o-WQ",fileName:"styles_fileName__3Jijg",fileSize:"styles_fileSize__DblgM",loadingBlock:"styles_loadingBlock__3d0YD",loadingBlock_bar:"styles_loadingBlock_bar__1oUrv",progressAnimation:"styles_progressAnimation__2RSLU",errorFile:"styles_errorFile__3Fugk",retryButton:"styles_retryButton__2Dofz",errorMessage:"styles_errorMessage__QWy3V",platformName:"styles_platformName__1GuFx",channelIcon:"styles_channelIcon__35QDq",messageTextStatusWrapper:"styles_messageTextStatusWrapper__38o68",status:"styles_status__2TCqQ",timestamp:"styles_timestamp__2c19-",timestampOutgoing:"styles_timestampOutgoing__3BHnR","slide-up":"styles_slide-up__2qRft"},gt="styles_buttonsWrapper__W-Vjy",ft="styles_textButton__3xnEd",vt="styles_avatar__7KkCa",yt=m.Object.assign;m.setInterval;var _t=O("Array").slice,Et=Array.prototype,wt=function(e){var t=e.slice;return e===Et||e instanceof Array&&t===Et.slice?_t:t},bt=[w._("Jan"),w._("Feb"),w._("Mar"),w._("Apr"),w._("May"),w._("Jun"),w._("Jul"),w._("Aug"),w._("Sep"),w._("Oct"),w._("Nov"),w._("Dec")],Tt=e=>{var t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},It=e=>{var t,n,r,a=e.getHours(),i=e.getMinutes();return te(t="".concat(wt(n="0"+a).call(n,-2),":")).call(t,wt(r="0"+i).call(r,-2))},Ct=e=>bt[e.getMonth()],kt=e=>Math.floor((+new Date-+e)/1e3),St=()=>{var{config:e}=Ui(),t=i((()=>{if(null!=e&&e.availableChannels)return t=e.availableChannels,He(t).call(t,((e,t)=>{var n;return e[te(n="".concat(t.platform,":")).call(n,t.platformIdentifier)]=t,e}),{});var t}),[e]);return[t,e=>{var n,r=te(n="".concat(e.text,":")).call(n,e.value);return t[r]}]},Mt={button:"styles_button__2w2YL",fullWidth:"styles_fullWidth__1ryNs",icon:"styles_icon__2MV2i",upperCasedButton:"styles_upperCasedButton__1LdQP"},Bt=e=>{var t,n,{id:r,text:a,value:i,onClick:s,fullWidth:l,icon:c}=e,u=()=>{null==s||s({id:r,value:i,text:a})},A=te(t=te(n="".concat(Mt.button," ")).call(n,l?Mt.fullWidth:""," ")).call(t,"sms"===a?Mt.upperCasedButton:""),d="email_freemium"===a?"Email":a;return o.createElement("div",{className:A,onClick:u,onKeyPress:u,role:"button",tabIndex:0},c&&o.createElement("div",{className:Mt.icon},c),o.createElement("span",null,d))},Ot="styles_wrapper__Dv-rg",Lt="styles_list__1ta1q",Rt="styles_footerLinks__2MTgD",Dt="styles_numberedItem__32QUU",Ut="styles_listItem__1Myk5",xt="styles_link__2jGwV",Ft="styles_iconHeader__1I03F",Nt="styles_authorizeFacebookButton__1e0Wn",Pt="styles_authorizeFacebookButtonText__2rDaK",Qt="styles_authorizeTwitterButton__2WlDh",Vt="styles_authorizeTwitterButtonText__3vqHz",Ht="styles_buttonsWrapperMobile__1CDj0",Wt="styles_form__2Kek0",jt="styles_formBody__1WGc6",zt="styles_buttonWrapper__2FDJs",qt="styles_textHelp__2EPQp",Gt="styles_textLink__2_C8a",Yt="styles_footerButton__1FVNV",Kt="styles_errorText__3Yl3w",Zt="styles_flagContiner__VbHtN",Jt={icon:"styles_icon__Ys9RK",email:"styles_email__b-vvp",email_freemium:"styles_email_freemium__3ahd9",voice:"styles_voice__1GeVM",whatsapp:"styles_whatsapp__3z0FK",facebook:"styles_facebook__3yQs7",sms:"styles_sms__1u9Gx",wechat:"styles_wechat__3qq4e",line:"styles_line__38Pg6",telegram:"styles_telegram__BSYs0",twitter:"styles_twitter__1xLY6"},Xt={channel:"styles_channel__396ZG",channelName:"styles_channelName__Q8vJ4",channelIcon:"styles_channelIcon__1i0qs",small:"styles_small__YfrFZ",email:"styles_email__2fX6Y",email_freemium:"styles_email_freemium__2syJP",voice:"styles_voice__3HPhx",whatsapp:"styles_whatsapp__80fGh",facebook:"styles_facebook__1JafZ",instagram:"styles_instagram__3MkEp",sms:"styles_sms__3o20s",wechat:"styles_wechat__3LUK4",line:"styles_line__2WArA",telegram:"styles_telegram__2yK9v",twitter:"styles_twitter__7AVNr",url:"styles_url__N7l9f",livechat:"styles_livechat__9cEy4"},$t=yt;function en(){return(en=$t||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var tn=O("Array").indexOf,nn=Array.prototype,rn=function(e){var t=e.indexOf;return e===nn||e instanceof Array&&t===nn.indexOf?tn:t},an=M,on=Q;function sn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=on(e);for(r=0;r<i.length;r++)n=i[r],rn(t).call(t,n)>=0||(a[n]=e[n]);return a}(e,t);if(an){var i=an(e);for(r=0;r<i.length;r++)n=i[r],rn(t).call(t,n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ln,cn=e=>{var{color:t="currentColor"}=e,n=sn(e,["color"]);return o.createElement("svg",en({xmlns:"http://www.w3.org/2000/svg",id:"popup-close-icon",viewBox:"0 0 16 16"},n),o.createElement("path",{d:"M9.06006 8L12.1501 4.91C12.4401 4.62 12.4401 4.14 12.1501 3.85C11.8601 3.56 11.3801 3.56 11.0901 3.85L8.00006  6.94L4.90006 3.84C4.61006 3.55 4.13006 3.55 3.84006 3.84C3.55006 4.13 3.55006 4.61 3.84006 4.9L6.94006 8L3.85006  11.09C3.56006 11.38 3.56006 11.86 3.85006 12.15C4.00006 12.3 4.19006 12.37 4.38006 12.37C4.57006 12.37 4.76006  12.3 4.91006 12.15L8.00006 9.06L11.0901 12.15C11.2401 12.3 11.4301 12.37 11.6201 12.37C11.8101 12.37 12.0001 12.3  12.1501 12.15C12.4401 11.86 12.4401 11.38 12.1501 11.09L9.06006 8Z",fill:t}))},un=e=>{var{color:t="currentColor"}=e,n=sn(e,["color"]);return o.createElement("svg",en({xmlns:"http://www.w3.org/2000/svg",id:"close-icon",viewBox:"0 0 20 20"},n),o.createElement("path",{d:"M6.4 6.4l7.2 7.2m0-7.2l-7.2 7.2",fill:"none",stroke:t,strokeLinecap:"square",strokeWidth:2}))},An=e=>{var t=sn(e,["color"]);return o.createElement("svg",en({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"14",viewBox:"0 0 16 14"},t),o.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"},o.createElement("path",{d:"M.035 12L14 12 14 0 0 0 0 12M0 1.6L7 6.8M14 1.6L7 6.8M13.241 11.017L9.059 5.6M.813 10.952L4.967 5.599",transform:"translate(1 1)"})))},dn=e=>{var t=sn(e,["color"]);return o.createElement("svg",en({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 33 33"},t),o.createElement("path",{fill:"none",fillRule:"evenodd",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M31 1v9h-9M2 32v-9h9M1 16C1.3 8.948 6.201 2.97 12.972 1.396 19.742-.178 26.713 3.04 30 9.259M32 17c-.363 7.093-5.286 13.07-12.041 14.618C13.204 33.167 6.27 29.908 3 23.648"}))},mn=e=>{var t=sn(e,["color"]);return o.createElement("svg",en({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},t),o.createElement("path",{fill:"#FFF",fillRule:"evenodd",d:"M0 9h13.6c1.326 0 2.4-.895 2.4-2H0V4c0-2.21 1.79-4 4-4h24c2.21 0 4 1.79 4 4v17c0 2.21-1.79 4-4 4h-5v4.282c0 2.195-2.55 3.482-4.404 2.223L9 25H4c-2.21 0-4-1.79-4-4v-3h9.75c1.243 0 2.25-.895 2.25-2H0V9z"}))};!function(e){e.Home="Home",e.Chat="Chat",e.Send="Send",e.ConnectWhatsApp="ConnectWhatsApp",e.ConnectWeChat="ConnectWeChat",e.ConnectInstagram="ConnectInstagram"}(ln||(ln={}));var pn=/Mobi/i.test(window.navigator.userAgent),hn=/OS 15/i.test(window.navigator.userAgent)&&/Safari/i.test(window.navigator.userAgent),gn=m.Array.isArray,fn=()=>{var e=n(((e,t)=>{var n=gn(e)?e:[e];z(n).call(n,(e=>{((e,t)=>{try{window.gtag("event",e,{event_category:"livechat",event_label:(null==t?void 0:t.label)||void 0,value:(null==t?void 0:t.value)||void 0})}catch(e){fe(e,"failed_to_send_tracking_event")}})(e,t)}))}),[]),t=n((()=>{if(!document.getElementById("google-analytics-script")){var e=document.createElement("script"),t=document.getElementsByTagName("head")[0];e.src="https://www.googletagmanager.com/gtag/js?id=G-7P5CKRSTC5",e.id="google-analytics-script",null==t||t.appendChild(e)}}),[]);return r((()=>{if(!document.getElementById("google-analytics-init")){var e=document.getElementsByTagName("head")[0],t=document.createElement("script");t.id="google-analytics-init",t.innerHTML="\n  window.dataLayer = window.dataLayer || [];\n  function gtag(){window.dataLayer.push(arguments);}\n  gtag('js', new Date());\n\n  gtag('config', 'G-7P5CKRSTC5', {\n    anonymize_ip: true,\n    allow_google_signals: false,\n    allow_ad_personalization_signals: false\n  });\n\n  gtag('consent', 'default', {\n    analytics_storage: 'denied',\n    ad_storage: 'denied'\n  });\n",null==e||e.appendChild(t)}}),[]),{track:e,initialize:t}},vn=e=>"882796aa-30ec-4ac0-9d07-73615b7eb106"===e?{hideDefaultBranding:!0,hideDataConsent:!0,iconLogo:"c25fd2f612a03c63.png"}:"6ab6f641-d499-4fe2-aecd-f43d6141525a"===e?{hideDefaultBranding:!0}:void 0,yn={line:"Line",facebook:"Facebook Messenger",instagram:"Instagram",telegram:"Telegram",email:"Email",email_freemium:"Email",wechat:"WeChat",whatsapp:"WhatsApp",twitter:"Twitter",sms:"SMS",voice:"Voice",livechat:"Live Chat",url:"Support Url"},_n={email:"#8f8fff",email_freemium:"#8f8fff",voice:"#2a2ae6",whatsapp:"#24d366",facebook:"#0084ff",instagram:"#dc3175",sms:"#0c2868",wechat:"#2dc100",line:"#00b900",telegram:"#53abda",twitter:"#32ccfe",livechat:"#0089ff",url:"#8f8fff"},En={whatsapp:ln.ConnectWhatsApp,wechat:ln.ConnectWeChat,instagram:ln.ConnectInstagram},wn={line:e=>{var t=sn(e,["color"]);return o.createElement("svg",en({xmlns:"http://www.w3.org/2000/svg",width:"20",height:"18",viewBox:"0 0 20 18"},t),o.createElement("path",{fill:"#FFF",fillRule:"evenodd",d:"M.862 7.703c0-4.064 4.092-7.37 9.121-7.37 5.03 0 9.12 3.306 9.12 7.37 0 1.627-.632 3.091-1.954 4.534-1.914 2.194-6.192 4.865-7.166 5.273-.973.409-.83-.26-.79-.49l.13-.777c.031-.232.063-.59-.03-.82-.102-.254-.505-.385-.803-.448C4.107 14.397.862 11.346.862 7.703zM7.448 5.88a.174.174 0 0 0-.173.173v3.875c0 .096.077.174.173.174h.622a.173.173 0 0 0 .173-.174V6.053a.173.173 0 0 0-.173-.173h-.622zm4.542 0a.174.174 0 0 0-.173.173v2.303l-1.77-2.399-.014-.017h-.002c-.002-.006-.007-.008-.01-.013 0 0-.002 0-.003-.002l-.01-.008-.004-.003a.062.062 0 0 0-.01-.006.02.02 0 0 0-.004-.003l-.01-.006-.005-.002-.01-.005a.021.021 0 0 0-.005-.001.051.051 0 0 0-.011-.004c-.002 0-.004 0-.006-.002a.053.053 0 0 0-.01-.001h-.007l-.009-.003H9.28a.174.174 0 0 0-.173.172v3.875c0 .096.078.174.173.174h.622a.173.173 0 0 0 .173-.174V7.627l1.773 2.401a.173.173 0 0 0 .044.043h.002a.09.09 0 0 0 .01.008c.003 0 .004.001.006.003l.008.004.009.003c.001.002.003.002.005.002a.083.083 0 0 0 .011.004h.002c.015.004.03.007.045.007h.622a.173.173 0 0 0 .173-.174V6.053a.173.173 0 0 0-.173-.173h-.622zm-7.977 0a.173.173 0 0 0-.174.174v3.874c0 .047.019.089.049.12l.002.003.002.002c.031.03.073.049.12.049h2.486a.174.174 0 0 0 .173-.174v-.624a.173.173 0 0 0-.173-.173H4.807V6.054a.173.173 0 0 0-.173-.174h-.621zm9.389 0a.174.174 0 0 0-.121.049l-.001.002-.003.003a.173.173 0 0 0-.048.12v3.874a.171.171 0 0 0 .05.123l.003.002c.03.03.072.049.12.049h2.485a.173.173 0 0 0 .172-.174v-.624a.172.172 0 0 0-.172-.173h-1.691v-.655h1.691a.172.172 0 0 0 .172-.173v-.624a.173.173 0 0 0-.172-.173h-1.691V6.85h1.691a.173.173 0 0 0 .172-.174v-.623a.173.173 0 0 0-.172-.174h-2.485z"}))},facebook:e=>{var t=sn(e,["color"]);return o.createElement("svg",en({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},t),o.createElement("path",{fill:"#FFF",fillRule:"evenodd",d:"M8 0C3.493 0 0 3.301 0 7.76c0 2.333.956 4.348 2.513 5.74.13.118.209.28.215.456l.044 1.423c.014.454.483.748.898.566l1.587-.7c.135-.06.285-.07.427-.032.729.201 1.506.308 2.316.308 4.507 0 8-3.302 8-7.76C16 3.3 12.507 0 8 0zm4.803 5.97l-2.35 3.728c-.373.593-1.175.74-1.735.32L6.849 8.618c-.172-.13-.407-.128-.578.001l-2.524 1.916c-.336.256-.777-.148-.55-.506L5.547 6.3c.373-.592 1.175-.74 1.735-.32l1.869 1.402c.172.129.407.127.578-.002l2.524-1.915c.336-.256.777.148.55.505z"}))},instagram:e=>{var t=sn(e,["color"]);return o.createElement("svg",en({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 183 183"},t),o.createElement("path",{fill:"#FFF",fillRule:"evenodd",d:"M91.594 0C66.72 0 63.599.11 53.83.556c-9.75.45-16.406 2.002-22.229 4.28-6.024 2.352-11.133 5.498-16.224 10.62-5.095 5.119-8.224 10.257-10.57 16.313C2.535 37.627.99 44.32.55 54.122.114 63.946 0 67.087 0 92.1c0 25.012.11 28.142.553 37.966.449 9.804 1.992 16.497 4.255 22.353 2.341 6.058 5.47 11.196 10.563 16.315 5.089 5.123 10.199 8.278 16.219 10.63 5.827 2.277 12.484 3.83 22.232 4.279 9.77.447 12.889.556 37.76.556 24.875 0 27.987-.11 37.757-.556 9.75-.45 16.413-2.002 22.24-4.28 6.021-2.351 11.124-5.506 16.212-10.629 5.095-5.12 8.224-10.257 10.57-16.313 2.252-5.858 3.798-12.552 4.256-22.353.439-9.824.553-12.956.553-37.968 0-25.013-.114-28.152-.553-37.976-.458-9.805-2.004-16.497-4.255-22.353-2.347-6.058-5.476-11.196-10.57-16.316-5.095-5.123-10.19-8.27-16.22-10.62-5.838-2.277-12.497-3.83-22.247-4.279C119.556.11 116.445 0 91.565 0zm-8.216 16.597c2.438-.004 5.159 0 8.216 0 24.453 0 27.351.088 37.008.53 8.93.41 13.776 1.91 17.005 3.171 4.274 1.67 7.32 3.665 10.524 6.889 3.206 3.223 5.19 6.293 6.854 10.591 1.254 3.243 2.748 8.116 3.154 17.096.439 9.709.534 12.625.534 37.204 0 24.58-.095 27.496-.534 37.205-.408 8.98-1.9 13.853-3.154 17.096-1.66 4.298-3.648 7.358-6.854 10.58-3.205 3.223-6.249 5.219-10.524 6.888-3.225 1.266-8.075 2.763-17.005 3.174-9.655.441-12.555.537-37.008.537-24.456 0-27.354-.096-37.009-.537-8.93-.415-13.776-1.915-17.006-3.176-4.274-1.67-7.327-3.665-10.533-6.888-3.205-3.224-5.19-6.286-6.853-10.586-1.254-3.242-2.748-8.116-3.154-17.096-.439-9.709-.527-12.625-.527-37.22 0-24.594.088-27.495.527-37.204.408-8.98 1.9-13.853 3.154-17.1 1.66-4.298 3.648-7.368 6.853-10.591 3.206-3.224 6.259-5.22 10.533-6.892 3.228-1.267 8.077-2.763 17.006-3.176 8.45-.384 11.723-.499 28.793-.518zm57.104 15.292c-6.068 0-10.99 4.945-10.99 11.049 0 6.101 4.922 11.052 10.99 11.052 6.067 0 10.99-4.95 10.99-11.052 0-6.102-4.923-11.052-10.99-11.052zM91.594 44.803C65.619 44.803 44.56 65.98 44.56 92.1c0 26.12 21.06 47.287 47.034 47.287s47.025-21.168 47.025-47.287c0-26.12-21.053-47.297-47.027-47.297zm0 16.597c16.86 0 30.528 13.744 30.528 30.7 0 16.954-13.669 30.7-30.528 30.7-16.862 0-30.529-13.746-30.529-30.7 0-16.956 13.667-30.7 30.529-30.7z"}))},telegram:e=>{var t=sn(e,["color"]);return o.createElement("svg",en({xmlns:"http://www.w3.org/2000/svg",width:"19",height:"17",viewBox:"0 0 19 17"},t),o.createElement("g",{fill:"none",fillRule:"evenodd"},o.createElement("path",{fill:"#FFF",d:"M16.972.181L.712 6.75s-.77.27-.709.771c.061.5.69.73.69.73l4.089 1.417 2.43 1.21 6.682 5.275c1.113.5 1.519-.542 1.519-.542L18.308.577c0-.453-.274-.577-.574-.577-.362 0-.762.181-.762.181z",transform:"translate(.444 .222)"}),o.createElement("path",{fill:"#D2E5F1",d:"M14.604 3.269L4.667 9.694s1.25 4.172 1.496 4.965c.246.793.443.811.443.811l.54-4.691s7.499-6.864 7.806-7.156c.307-.292.205-.354.205-.354.007-.119-.052-.158-.134-.158-.164 0-.42.158-.42.158z",transform:"translate(.444 .222)"}),o.createElement("path",{fill:"#B5D0E4",d:"M6.667 15.557c.221.102.424-.061.424-.061l2.592-2.513-2.52-2.094-.496 4.668z",transform:"translate(.444 .222)"})))},email:An,email_freemium:An,wechat:e=>{var t=sn(e,["color"]);return o.createElement("svg",en({xmlns:"http://www.w3.org/2000/svg",width:"20",height:"16",viewBox:"0 0 20 16"},t),o.createElement("g",{fill:"#FFF",fillRule:"evenodd"},o.createElement("path",{d:"M5.176.342C3.173.998 1.7 2.259 1.1 4.336c-.648 2.246.219 4.427 2.274 5.886.32.227.369.421.264.77-.143.475-.223.969-.347 1.533.677-.425 1.247-.806 1.843-1.143.179-.102.43-.128.642-.11.613.053 1.223.145 1.893.228-.153-1.809.404-3.267 1.625-4.457 1.21-1.179 2.699-1.7 4.411-1.79-.097-1.044-.465-1.928-1.065-2.715C11.407.921 9.396 0 7.324 0 6.606 0 5.88.11 5.176.342zM9.11 4.56c-.007-.412.35-.774.772-.782.43-.007.779.33.782.76.005.436-.326.774-.761.779h-.011c-.43 0-.774-.333-.782-.757zm-4.138.753c-.435-.011-.763-.357-.75-.79.012-.426.367-.758.797-.745.42.013.775.383.76.793-.016.415-.365.743-.786.743l-.02-.001z"}),o.createElement("path",{d:"M10.493 6.913c-2.716 1.778-3.052 5.106-.704 7.275 1.234 1.141 2.73 1.606 4.402 1.436.548-.056 1.099-.36 1.624-.304.526.054 1.02.414 1.56.654-.037-.142-.044-.286-.107-.4-.336-.612-.147-.996.377-1.46 1.814-1.609 1.988-4.148.503-6.062C17.112 6.717 15.393 6 13.663 6c-1.11 0-2.226.295-3.17.913zm-.048 2.41c-.012-.353.285-.658.64-.656.36.002.648.302.635.66-.013.34-.296.608-.639.608-.34 0-.625-.274-.636-.611zm4-.05c.014-.336.296-.608.63-.606.354.003.633.3.62.66-.013.342-.284.602-.627.602h-.002c-.356-.002-.635-.296-.621-.656z"})))},whatsapp:e=>{var t=sn(e,["color"]);return o.createElement("svg",en({xmlns:"http://www.w3.org/2000/svg",width:"18",height:"17",viewBox:"0 0 18 17"},t),o.createElement("path",{fill:"#FFF",d:"M12.976 10.092c-.208-.104-1.227-.603-1.417-.672-.19-.069-.329-.103-.467.103-.138.207-.535.672-.656.81-.121.137-.242.155-.45.051-.207-.103-.875-.32-1.667-1.024-.617-.547-1.033-1.223-1.154-1.43-.12-.206-.012-.318.091-.42.094-.093.208-.242.311-.362.104-.12.139-.207.208-.344.069-.138.034-.259-.018-.362-.051-.103-.466-1.119-.639-1.532-.168-.403-.34-.348-.466-.354-.121-.006-.26-.008-.398-.008s-.363.052-.553.258c-.19.207-.725.706-.725 1.722s.743 1.997.846 2.135c.104.137 1.462 2.222 3.542 3.116.495.212.881.34 1.182.434.497.157.95.135 1.306.082.399-.06 1.227-.499 1.4-.981.173-.482.173-.895.12-.981-.05-.086-.19-.138-.396-.241m-3.784 5.14H9.19c-1.237 0-2.451-.33-3.51-.956l-.252-.149-2.61.682.696-2.533-.164-.26c-.69-1.093-1.055-2.356-1.054-3.653.001-3.785 3.095-6.864 6.9-6.864 1.842 0 3.574.715 4.876 2.013 1.303 1.297 2.02 3.022 2.019 4.856-.002 3.785-3.096 6.865-6.898 6.865m5.87-12.707C13.496.965 11.412.105 9.192.104 4.618.104.895 3.809.894 8.362.893 9.818 1.275 11.24 2 12.492L.824 16.77l4.4-1.149c1.211.658 2.576 1.005 3.965 1.005h.003c4.574 0 8.297-3.705 8.299-8.258 0-2.207-.862-4.282-2.429-5.843"}))},sms:e=>{var t=sn(e,["color"]);return o.createElement("svg",en({xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},t),o.createElement("path",{fill:"#FEFEFE",fillRule:"evenodd",d:"M13 9H6c-.552 0-1-.448-1-1s.448-1 1-1h7c.552 0 1 .448 1 1s-.448 1-1 1m-7 4c-.552 0-1-.448-1-1s.448-1 1-1h4c.552 0 1 .448 1 1s-.448 1-1 1H6zM0 9c0 1.68.469 3.298 1.36 4.7v2.7c0 .296.131.577.358.767.226.189.526.27.817.217l2.422-.43.19.164c.087.075.187.134.294.175C6.678 17.769 7.842 18 9 18c4.962 0 9-4.038 9-9s-4.038-9-9-9-9 4.038-9 9z"}))},voice:e=>{var t=sn(e,["color"]);return o.createElement("svg",en({xmlns:"http://www.w3.org/2000/svg",width:"13",height:"13",viewBox:"0 0 13 13"},t),o.createElement("path",{fill:"#FFF",fillRule:"evenodd",d:"M4.252 4.644c1.409 1.58 2.974 3.16 4.54 4.58.157.159.392.159.548 0l.626-.63c.392-.396 1.018-.396 1.41 0l1.33 1.342c.392.395.392 1.026 0 1.421l-.626.632c-1.252 1.264-3.288 1.343-4.619.237-2.27-1.895-4.305-3.949-6.184-6.16C.103 4.723.259 2.67 1.512 1.406l.626-.632c.391-.394 1.018-.394 1.41 0l1.33 1.343c.391.395.391 1.027 0 1.422l-.548.552c-.157.158-.157.395-.078.553z"}))},twitter:e=>{var t=sn(e,["color"]);return o.createElement("svg",en({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 48 39"},t),o.createElement("path",{fill:"#fff",d:"M33.24 0a9.841 9.841 0 00-9.6 12.09A27.96 27.96 0 013.33 1.8a9.78 9.78 0 003.06 13.14 9.824 9.824 0 01-4.47-1.2v.09a9.84 9.84 0 007.92 9.66 9.902 9.902 0 01-4.47.18 9.871 9.871 0 009.21 6.84A19.775 19.775 0 010 34.59 27.872 27.872 0 0015.09 39c18.12 0 28.02-15 28.02-28.02V9.72A19.963 19.963 0 0048 4.62c-1.77.78-3.66 1.32-5.67 1.56A9.974 9.974 0 0046.68.72a19.85 19.85 0 01-6.27 2.4A9.843 9.843 0 0033.21 0h.03z"}))},livechat:mn,url:e=>{var t=sn(e,["color"]);return o.createElement("svg",en({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},t),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 3.75C0 1.67893 1.67893 0 3.75 0H12.25C14.3211 0 16 1.67893 16 3.75V12.25C16 14.3211 14.3211 16 12.25 16H3.75C1.67893 16 0 14.3211 0 12.25V3.75ZM3.75 1.5C2.50736 1.5 1.5 2.50736 1.5 3.75V12.25C1.5 13.4926 2.50736 14.5 3.75 14.5H12.25C13.4926 14.5 14.5 13.4926 14.5 12.25V3.75C14.5 2.50736 13.4926 1.5 12.25 1.5H3.75Z",fill:"white"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.75 5.5H3.25V4H12.75V5.5Z",fill:"white"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5 8H3.25V6.5H10.5V8Z",fill:"white"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 10.5H3.25V9H5.5V10.5Z",fill:"white"}))}},bn=e=>{var t,n,r,a,i,o,s,{platform:l,platformIdentifier:c,conversationCode:u,urls:A}=e;return{facebook:te(t="https://m.me/".concat(c)).call(t,u?"?ref=MB_CONVERSATION_BRIDGING_".concat(u):""),instagram:"https://instagram.com/".concat(c),whatsapp:te(n="https://wa.me/".concat(c)).call(n,u?"?text=".concat(encodeURI("My conversation code is ".concat(u))):""),telegram:te(r="https://t.me/".concat(c)).call(r,u?"?start=MB_CONVERSATIONS_BRIDGING_".concat(encodeURI("".concat(u))):""),line:te(a="https://line.me/R/oaMessage/".concat(c,"/")).call(a,u?"?".concat(encodeURI("My conversation code is ".concat(u))):""),voice:"tel:+".concat(c.replace(/\s+/g,"")),sms:"sms:".concat(c),email:"mailto:".concat(c),email_freemium:"mailto:".concat(c),wechat:null==A||null===(i=A.mobile)||void 0===i?void 0:i.url,twitter:te(o="https://twitter.com/messages/compose?recipient_id=".concat(c)).call(o,u?"&text=".concat(encodeURI("My conversation code is ".concat(u))):""),livechat:"",url:null==A||null===(s=A.all)||void 0===s?void 0:s.url}[l]||""},Tn=e=>{var t,n,{platform:r,platformIdentifier:a,showQRCode:i,urls:s,customLabel:l}=e,{track:c}=fn(),{push:u,setConnectChannelLink:A,widgetId:d}=Ui(),m=wn[r]||null;if(null===m)return null;var p=te(t="".concat(Xt.channel," ")).call(t,Xt[r]);return o.createElement("a",{href:bn({platform:r,platformIdentifier:a,urls:s}),className:p,target:"_blank",rel:"noopener noreferrer",onClick:e=>{c("channel_click",{label:r}),(i&&!pn&&A||(e=>{var t;return x(t=["03534362-7d20-47b3-9084-2b37be2ca4c8"]).call(t,e)})(d))&&(e.preventDefault(),A(bn({platform:r,platformIdentifier:a,urls:s})),u(En[r]))},"data-testid":"home-view-channel"},o.createElement("div",{className:te(n="".concat(Xt.channelIcon," ")).call(n,Xt[r])},o.createElement(m,{width:16})),o.createElement("p",{className:Xt.channelName},l||(e=>{var t,n=yn[e]||e;return x(t=["email","email_freemium"]).call(t,e)?o.createElement(b.Trans,{id:"Email us"}):"voice"===e?o.createElement(b.Trans,{id:"Call us"}):"sms"===e?o.createElement(b.Trans,{id:"Message us"}):"url"===e?o.createElement(b.Trans,{id:"Support Url"}):"".concat(n)})(r)))},In=e=>{var t,{channel:n,width:r=16,height:a=16}=e,i=wn[n]||null,s=te(t="".concat(Jt.icon," ")).call(t,Jt[n]);return o.createElement("div",{className:s},o.createElement(i,{width:r}))},Cn=m.Object.entries;function kn(e,t){var n=V(e);if(B){var r=B(e);t&&(r=X(r).call(r,(function(t){return S(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)z(n=kn(Object(r),!0)).call(n,(function(t){re(e,t,r[t])}));else if(k)C(e,k(r));else{var a;z(a=kn(Object(r))).call(a,(function(t){I(e,t,S(r,t))}))}}return e}var Mn,Bn=e=>{window.pushpromjs.sendMetric((e=>{var t,n,r;if("gauge"===e.type)return e;var a=Sn(Sn({},e.labels),{},{uid:null!=e&&null!==(t=e.labels)&&void 0!==t&&t.uid?Ln(e.labels.uid):void 0,userId:null!=e&&null!==(n=e.labels)&&void 0!==n&&n.userId?Ln(e.labels.userId):void 0}),i=He(r=Cn(a)).call(r,((e,t)=>{var[n,r]=t;return void 0===r?e:Sn(Sn({},e),{},{[n]:r})}),{});return Sn(Sn({},e),{},{labels:i})})(e))},On=(e,t)=>{try{Bn({type:"counter",name:e,method:"inc",labels:t})}catch(e){}},Ln=e=>{try{return window.btoa(e)}catch(e){On("js_livechatwidget_errors",{error:"convertToBase64_error"})}},Rn=(e,t)=>On("livechatwidget_module_loaded_".concat(e),{path:t}),Dn=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,Un=function(){var e=se((function*(e){var t=0,n=function(){var r=se((function*(){try{Rn("base");var r=yield e();return Rn("success"),r}catch(e){var a=e.message.match(Dn);a&&a.length&&Rn("error",a[0].replace(window.location.origin,"")),t<3&&(t++,yield n())}}));return function(){return r.apply(this,arguments)}}();return n()}));return function(t){return e.apply(this,arguments)}}(),xn=e=>o.lazy((()=>Un((()=>e())))),Fn="styles_loader__2ebYH",Nn=xn((()=>__import__("./LazyQRCode-chunk-10c8eae9.js"))),Pn=e=>{var{value:t,size:n}=e;return o.createElement("div",{style:{position:"relative",height:"".concat(n,"px"),width:"".concat(n,"px")}},o.createElement(s,{fallback:o.createElement(Qn,{size:n})},o.createElement(Nn,{value:t,size:n})))},Qn=e=>{var{size:t}=e;return o.createElement("div",{className:Fn,style:{width:"".concat(t,"px"),height:"".concat(t,"px")}})},Vn=e=>{var{children:t}=e;return o.createElement("ul",{className:Lt},P(t).call(t,((e,t)=>o.createElement("li",{className:Ut},o.createElement("div",{className:Dt},t+1),o.createElement("div",null,e)))))},Hn=e=>{var{url:t}=e;return o.createElement(o.Fragment,null,o.createElement("h3",null,o.createElement(b.Trans,{id:"Connect to Line"})),o.createElement(o.Fragment,null,o.createElement(Vn,null,[o.createElement(o.Fragment,null,o.createElement("p",null,o.createElement(b.Trans,{id:"Connect to your Line account by scanning the QR code below with your device."})),o.createElement(Pn,{value:t,size:219})),o.createElement(b.Trans,{id:"Send the prepopulated message with your conversation code to continue the conversation on Line"})]),o.createElement("a",{href:t,className:xt,target:"_blank",rel:"noopener noreferrer"},o.createElement("button",{className:Yt},o.createElement(b.Trans,{id:"Login with email instead"})))))},Wn=e=>{var{url:t}=e;return o.createElement(o.Fragment,null,o.createElement("h3",null,o.createElement(b.Trans,{id:"Connect to Telegram"})),o.createElement(o.Fragment,null,o.createElement(Vn,null,[o.createElement(o.Fragment,null,o.createElement("p",null,o.createElement(b.Trans,{id:"Open Telegram on your phone"})),o.createElement(Pn,{value:t,size:219})),o.createElement(b.Trans,{id:"Go to Settings > Devices > Scan QR code"}),o.createElement(b.Trans,{id:"Scan this image to Log In"})]),o.createElement("p",{className:Rt},o.createElement(b.Trans,{id:"Or open <0>Telegram Web</0> or <1>the Telegram App</1>",components:{0:o.createElement("a",{href:t,className:xt,target:"_blank",rel:"noopener noreferrer"}),1:o.createElement("a",{href:t,className:xt,target:"_blank",rel:"noopener noreferrer"})}}))))},jn="styles_button__3Yr7O",zn="styles_animated__z4Lsj",qn="styles_primary__15nU3",Gn="styles_outline__3dJBo",Yn="styles_secondary__3o6Gs",Kn="styles_buttonLink__1MAYN",Zn="styles_center__1aiht",Jn=e=>{var t,n,r,{onClick:i,primary:s,outline:l,link:c,children:u}=e,A=a(null),d=te(t=te(n=te(r="".concat(jn," ")).call(r,Kn," ")).call(n,s?qn:""," ")).call(t,l?Gn:"");return o.createElement("a",{href:c,onClick:()=>{A.current&&A.current.classList.add(zn),i&&i()},className:d,target:"_blank",rel:"noopener noreferrer"},u)},Xn=e=>{var{url:t}=e;return o.createElement(o.Fragment,null,o.createElement("h3",null,o.createElement(b.Trans,{id:"Connect to WhatsApp"})),pn?o.createElement(o.Fragment,null,o.createElement("p",null,o.createElement(b.Trans,{id:"Open WhatsApp below and send the prepopulated message that appears on your screen to continue the conversation."})),o.createElement("div",{className:Ht},o.createElement(Jn,{outline:!0,link:t},o.createElement(b.Trans,{id:"Open WhatsApp"})))):o.createElement(o.Fragment,null,o.createElement(Vn,null,[o.createElement(o.Fragment,null," ",o.createElement("p",null,o.createElement(b.Trans,{id:"Connect to your WhatsApp account by scanning the QR code below."})),o.createElement(Pn,{value:t,size:219})),o.createElement(b.Trans,{id:"Send the prepopulated message with your conversation code to continue the conversation on WhatsApp."})]),o.createElement("p",null,o.createElement(b.Trans,{id:"If you want to open WhatsApp on your desktop just click <0>here</0>.",components:{0:o.createElement("a",{href:t,className:xt,target:"_blank",rel:"noopener noreferrer"})}}))))},$n=e=>{var{url:t}=e;return o.createElement(o.Fragment,null,o.createElement("h3",null,o.createElement(b.Trans,{id:"Connect to Facebook Messenger"})),o.createElement("p",null,o.createElement(b.Trans,{id:"Connect to your account below and continue the conversation there."})),o.createElement("a",{href:t,target:"_blank",rel:"noreferrer noopener",className:Nt},o.createElement(In,{channel:"facebook"}),o.createElement("p",{className:Pt},o.createElement(b.Trans,{id:"Authorize Facebook Messenger"}))))},er=O("String").trim,tr=String.prototype,nr=function(e){var t=e.trim;return"string"==typeof e||e===tr||e instanceof String&&t===tr.trim?er:t},rr=e=>o.createElement("span",e),ar=e=>{var t,n,r,i,{id:s,onClick:l,disabled:c,type:u="submit",executeCallbackAfterAnimation:A,primary:d,secondary:m,outline:p,ariaLabel:h,cypressTag:g,center:f,children:v}=e,y=a(null),_=nr(t=te(n=te(r=te(i="".concat(jn," ")).call(i,d?qn:""," ")).call(r,p?Gn:""," ")).call(n,m?Yn:"")).call(t),E=f?rr:o.Fragment,w=f?{className:Zn}:{};return o.createElement("button",{id:s,"data-testid":g,disabled:c,onClick:()=>{y.current&&y.current.classList.add(zn),l&&!A&&l()},className:_,type:u,ref:y,"aria-label":h,onAnimationEnd:()=>{y.current&&y.current.classList.remove(zn),l&&A&&l()}},o.createElement(E,w,v))},ir="styles_inputWrapper__3g58s",or="styles_input__WAvqH",sr="styles_buttonWrapper__1tJNn",lr="styles_isError__1nbpx",cr=e=>{var n,{name:a,defaultValue:i,type:s="text",onChange:l,placeholder:c,withButton:u,autocomplete:A="on",buttonIcon:d,forwardRef:m,miniumValue:p,isError:h,style:g}=e,[f,v]=t(i||"");r((()=>{l&&l(f)}),[f,l]);var y=te(n="".concat(or," ")).call(n,h?lr:"");return o.createElement("div",{className:ir},o.createElement("input",{type:s,className:y,name:a,placeholder:c,ref:m,autoComplete:A?"on":"off",onChange:e=>{var t,n=e.target.value;v(p&&!x(n).call(n,p)||p&&!n?te(t="".concat(p)).call(t,n):n)},value:f,style:g}),u&&o.createElement("div",{className:sr},o.createElement(ar,null,d)))},ur=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,Ar=/https?:\/\/wa.me\/([0-9]+)(\?text=([a-zA-Z0-9+]+))?/;!function(e){e[e.EnterEmail=0]="EnterEmail",e[e.EnterOTP=1]="EnterOTP",e[e.Done=2]="Done"}(Mn||(Mn={}));var dr,mr=new RegExp(/^\S+@\S+[.][0-9a-z]+$/),pr=e=>{var{closeModal:n,token:r,platformIdentifier:i}=e,{sendEvent:s}=Ui(),[l,c]=t(Mn.EnterEmail),[u,A]=t(""),d=a(0),[m,p]=t(void 0),{track:h}=fn(),[g,f]=t(""),v=()=>{g&&""!==g&&(c(Mn.Done),d.current=d.current+1,h("convo_bridging_submit_code",{label:"email",value:d.current}),s({type:"ConversationBridgingOTPVerify",platform:"email",platformIdentifier:i,token:g,identifier:u}))},y=()=>{d.current=d.current+1,h("convo_bridging_submit_opt",{label:"email",value:d.current}),s({type:"ConversationBridgingOTPStart",platform:"email",platformIdentifier:i,token:r,identifier:u,language:""})},_=e=>{if(e.preventDefault(),l===Mn.EnterEmail){var t=mr.test(u);p(!t),u&&t&&(h("convo_bridging_submit_opt",{label:"email"}),s({type:"ConversationBridgingOTPStart",platform:"email",platformIdentifier:i,token:r,identifier:u,language:""}),c(Mn.EnterOTP))}l===Mn.EnterEmail&&v()};return o.createElement(o.Fragment,null,l===Mn.EnterEmail&&o.createElement(o.Fragment,null,o.createElement("h3",null,o.createElement(b.Trans,{id:"Continue via Email"})),o.createElement("p",null,o.createElement(b.Trans,{id:"Add your email address below and we’ll send you an email as soon as possible."})),o.createElement("div",{className:Wt},o.createElement("h4",null,"Your email"),o.createElement("form",{className:jt,onSubmit:_},o.createElement(cr,{name:"email",onChange:e=>{A(e)},placeholder:"name@email.com",isError:m}),o.createElement("div",{className:zt},o.createElement(ar,{primary:!0,type:"submit"},o.createElement(b.Trans,{id:"Send"})))))),l===Mn.EnterOTP&&o.createElement(o.Fragment,null,o.createElement("h3",null,o.createElement(b.Trans,{id:"Verify your email"})),o.createElement("p",null,o.createElement(b.Trans,{id:"We’ve sent code to {userEmail} with a verification code. Write the code below.",values:{userEmail:u}})),o.createElement("div",{className:Wt},o.createElement("h4",null,"Your code"),o.createElement("form",{className:jt,onSubmit:_},o.createElement(cr,{name:"code",onChange:e=>{f(e)}}),o.createElement("div",{className:zt},o.createElement(ar,{primary:!0,onClick:v},o.createElement(b.Trans,{id:"Verify"})))),o.createElement("p",{className:qt},o.createElement(b.Trans,{id:"Didn’t receive an email? <0>Resend email</0>",components:{0:o.createElement("span",{onClick:y,onKeyPress:y,className:Gt,role:"button",tabIndex:0})}})))),l===Mn.Done&&o.createElement(o.Fragment,null,o.createElement("h3",null,o.createElement(b.Trans,{id:"Your conversation is linked"})),o.createElement("p",null,o.createElement(b.Trans,{id:"You’ve got mail! You can continue this conversation by replying."})),o.createElement("div",{className:Wt},o.createElement(ar,{outline:!0,onClick:n},o.createElement(b.Trans,{id:"Back to Live Chat"})))))},hr=xn((()=>__import__("./Flags-chunk-6059e35d.js")));!function(e){e[e.EnterPhone=0]="EnterPhone",e[e.EnterOTP=1]="EnterOTP",e[e.Done=2]="Done"}(dr||(dr={}));var gr=e=>{var{closeModal:n,token:a,platformIdentifier:i}=e,{sendEvent:l}=Ui(),[c,u]=t(dr.EnterPhone),[A,d]=t("+31"),[m,p]=t(""),[h,g]=t(""),[f,v]=t(!1),{track:y}=fn(),[_,E]=t(void 0);r((()=>{"+31"!==A&&v(!0)}),[A]);var w=function(){var e=se((function*(e){var t=new(0,(yield __import__("./phoneNumber-chunk-908c304e.js").then((function(e){return e.i}))).default)(e);E(t.isValid()),p(t.getRegionCode())}));return function(t){return e.apply(this,arguments)}}(),T=()=>{h&&""!==h&&(u(dr.Done),y("convo_bridging_submit_code",{label:"sms"}),l({type:"ConversationBridgingOTPVerify",platform:"sms",platformIdentifier:i,token:h,identifier:A}))},I=()=>{y("convo_bridging_submit_code",{label:"sms"}),l({type:"ConversationBridgingOTPStart",platform:"sms",platformIdentifier:i,token:a,language:"",identifier:A})},C=e=>{if(e.preventDefault(),c===dr.EnterPhone&&_){var t=null==A?void 0:A.replace("+","").replaceAll(" ","");u(dr.EnterOTP),y("convo_bridging_submit_opt",{label:"sms"}),l({type:"ConversationBridgingOTPStart",platform:"sms",platformIdentifier:i,token:a,language:"",identifier:t})}c===dr.EnterOTP&&T()};return o.createElement(o.Fragment,null,c===dr.EnterPhone&&o.createElement(o.Fragment,null,o.createElement("h3",null,o.createElement(b.Trans,{id:"Continue via SMS"})),o.createElement("p",null,o.createElement(b.Trans,{id:"Add your phone number below and we’ll send you an SMS message to continue this conversation."})),o.createElement("div",{className:Wt},o.createElement("h4",null,"Your phone number"),o.createElement("form",{className:jt,onSubmit:C},o.createElement("div",{className:Zt},o.createElement(s,{fallback:o.createElement("span",{role:"img","aria-label":"World Emoji",style:{marginTop:"-4px",display:"block"}},"🌐")},o.createElement(hr,{country:m}))),o.createElement(cr,{name:"phone",type:"tel",defaultValue:"+31",miniumValue:"+",onChange:e=>{d(e),w(e)},isError:f&&!1===_,style:{paddingLeft:"32px"}}),o.createElement("div",{className:zt},o.createElement(ar,{primary:!0,onClick:w},o.createElement(b.Trans,{id:"Send"})))),!1===_&&A&&f?o.createElement("span",{className:Kt},o.createElement(b.Trans,{id:"The phone number entered is invalid"})):null)),c===dr.EnterOTP&&o.createElement(o.Fragment,null,o.createElement("h3",null,o.createElement(b.Trans,{id:"Verify your phone number"})),o.createElement("p",null,o.createElement(b.Trans,{id:"We’ve sent an SMS to {phoneNumber} with a code to verify your phone number. Write the code below.",values:{phoneNumber:A}})),o.createElement("div",{className:Wt},o.createElement("h4",null,"Your code"),o.createElement("form",{className:jt,onSubmit:C},o.createElement(cr,{name:"code",onChange:e=>{g(e)}}),o.createElement("div",{className:zt},o.createElement(ar,{primary:!0,onClick:T},o.createElement(b.Trans,{id:"Verify"})))),o.createElement("p",{className:qt},o.createElement(b.Trans,{id:"Didn’t receive a message? <0>Resend SMS</0>",components:{0:o.createElement("span",{onClick:I,onKeyPress:I,className:Gt,role:"button",tabIndex:0})}})))),c===dr.Done&&o.createElement(o.Fragment,null,o.createElement("h3",null,o.createElement(b.Trans,{id:"Your Live Chat conversation is connected to SMS"})),o.createElement("p",null,o.createElement(b.Trans,{id:"Your Live Chat conversation is now linked to SMS."})),o.createElement("div",{className:Wt},o.createElement(ar,{outline:!0,onClick:n},o.createElement(b.Trans,{id:"Back to Live Chat"})))))},fr=e=>{var{url:t}=e;return o.createElement(o.Fragment,null,o.createElement("h3",null,o.createElement(b.Trans,{id:"Connect to Twitter"})),o.createElement("p",null,o.createElement(b.Trans,{id:"Connect to your account below and continue the conversation there."})),o.createElement("br",null),o.createElement("p",null,o.createElement(b.Trans,{id:"Once you have sent the prefilled message on Twitter, it can take up to two minutes to link your accounts."})),o.createElement("a",{href:t,target:"_blank",rel:"noreferrer noopener",className:Qt},o.createElement(In,{channel:"twitter"}),o.createElement("p",{className:Vt},o.createElement(b.Trans,{id:"Authorize Twitter"}))))},vr=e=>{var{channel:t,url:n,closeModal:r,token:a,platformIdentifier:i}=e;return t?o.createElement("div",{className:Ot},o.createElement("div",{className:Ft},o.createElement(In,{channel:t})),"whatsapp"===t&&o.createElement(Xn,{url:n}),"facebook"===t&&o.createElement($n,{url:n}),"twitter"===t&&o.createElement(fr,{url:n}),"telegram"===t&&o.createElement(Wn,{url:n}),"line"===t&&o.createElement(Hn,{url:n}),("email"===t||"email_freemium"===t)&&o.createElement(pr,{channel:t,url:n,closeModal:r,token:a,platformIdentifier:i}),"sms"===t&&o.createElement(gr,{channel:t,url:n,closeModal:r,token:a,platformIdentifier:i})):null},yr="styles_modal__1fhDd",_r="styles_body__-y3gH",Er="styles_closeIcon__13YH2",wr=e=>{var{isOpen:n,element:a,onClose:i,children:s}=e,[c,u]=t(n);r((()=>{u(n)}),[n]);var A=()=>{u(!1),i&&i()};return c?l(o.createElement("div",{className:yr},o.createElement("div",{className:_r},o.createElement("div",{className:Er,onClick:A,onKeyPress:A,role:"button","aria-labelledby":"modal-close-label",tabIndex:0},o.createElement("span",{id:"modal-close-label",hidden:!0},o.createElement(b.Trans,{id:"Close modal"})),o.createElement(un,{width:24,height:24})),s)),a.current):null},br=[],Tr=e=>{var{sendMessage:t}=Ui(),i=a(void 0),{storageState:o,setStorageState:s}=Ie("showConvoBridgingButtons",!0,e);return r((()=>{if(!i.current){var t=e;br.push({key:t,listener:s}),i.current=t}return()=>{br=X(br).call(br,(e=>e.key===i.current)),i.current=void 0}}),[s,e]),[o,n(((e,n)=>{var r;(s(e),z(br).call(br,(t=>{var{listener:n,key:r}=t;r===i.current&&n(e)})),n)&&t(null!==(r=yn[n])&&void 0!==r?r:n,{type:"ConversationBridgingLinked"})}),[s,t])]},Ir=["facebook","whatsapp","telegram","email","email_freemium","sms","line","twitter"],Cr=e=>{var n,s,{parentElement:l,buttons:c,conversationBridgingCode:u,createdAt:A,avatarUrl:d}=e,{sendFakeOutgoingMessage:m,sendMessage:p,isPreviewMode:h,config:g}=Ui(),{track:f}=fn(),[v,y]=t(!1),[_,E]=t(void 0),[T,I]=t(void 0),[C,k]=t(""),[S,M]=Tr(u),[B,O]=St();r((()=>{v&&!S&&y(!1)}),[S,v]);var L=()=>{E(void 0),k(""),y(!1)},R=te(n="".concat(ht.message," ")).call(n,ht.outgoing),D=te(s="".concat(ht.messageWrapper," ")).call(s,ht.outgoing),U=e=>{if(!h){var t=O(e),n=null==t?void 0:t.platform;x(Ir).call(Ir,n)&&(I(null==t?void 0:t.platformIdentifier),E(n),f("conv_bridge_choice",{label:n}),k(bn({platform:n,platformIdentifier:t.platformIdentifier,conversationCode:u})),y(!0))}},F=function(){var e=se((function*(){h||(M(!1),f("conv_bridge_choice",{label:"livechat"}),yield p(w._("Stay on Live Chat")),yield m(w._("We’ll reach you on Live Chat as soon as possible!")))}));return function(){return e.apply(this,arguments)}}(),N=a(!1);r((()=>{N.current||h||(f("conv_bridge_choice_shown",{label:"livechat"}),N.current=!0)}),[h,f]);var Q=i((()=>{var e=kt(new Date(A));return Math.floor(e/3600)>1}),[A]);return r((()=>{Q&&S&&M(!1)}),[S,Q,M]),B?o.createElement(o.Fragment,null,o.createElement("div",{className:D},o.createElement("div",{className:vt},d&&g.showAgents?o.createElement("img",{src:d,alt:"agent_photo"}):o.createElement(mn,{width:12,height:12})),o.createElement("div",{className:R},o.createElement(b.Trans,{id:"The wait time for Live Chat is a bit longer than usual, which platform can we reach you on?"})),S&&o.createElement("div",{className:gt},null==c?void 0:P(c).call(c,(e=>{var t,n=O(e),r=te(t="".concat(e.text,":")).call(t,e.value);return o.createElement(Bt,{id:r,key:r,onClick:U,fullWidth:!0,icon:(null==n?void 0:n.platform)&&o.createElement(In,{channel:null==n?void 0:n.platform}),text:e.text,value:e.value})})),o.createElement("span",{className:ft,onClick:F,onKeyPress:F,role:"button",tabIndex:0},o.createElement(b.Trans,{id:"Stay on Live Chat"})))),o.createElement(wr,{isOpen:v,element:l,onClose:L},o.createElement(vr,{channel:_,url:C,closeModal:L,token:u,platformIdentifier:T}))):null},kr=[{id:"1",type:"text",payload:{text:w._("Hi there! How can I help you today?")},from:"agent",direction:"outgoing",status:"received",createdAt:new Date,metadata:{source:{conversationBridging:{code:"123"}}}},{id:"2",payload:{text:w._("I’d like to update my delivery address")},from:"user",direction:"incoming",status:"delivered",createdAt:new Date}],Sr=ae;function Mr(e,t){var n=V(e);if(B){var r=B(e);t&&(r=X(r).call(r,(function(t){return S(e,t).enumerable}))),n.push.apply(n,r)}return n}function Br(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)z(n=Mr(Object(r),!0)).call(n,(function(t){re(e,t,r[t])}));else if(k)C(e,k(r));else{var a;z(a=Mr(Object(r))).call(a,(function(t){I(e,t,S(r,t))}))}}return e}var Or=[],Lr=e=>{var t,n={};return z(t=V(e)).call(t,(t=>{n[t]=(e=>typeof e)(e[t])})),n},Rr=(e,t,n,r)=>{x(Or).call(Or,t)&&r&&(e=>{var{message:t,extras:n,tags:r}=e;f(t,{level:v.Info,extra:n||{},tags:r||{}})})({message:"SET_ATTRIBUTE",extras:Br({uid:n,location:e},Lr(r))})},Dr=function(){var e=se((function*(){var e,t,{UAParser:n}=yield __import__("./ua-parser-chunk-00cded52.js").then((function(e){return e.u}));return null!==(e=null===(t=(yield new n(window.navigator.userAgent)).getOS())||void 0===t?void 0:t.name)&&void 0!==e?e:""}));return function(){return e.apply(this,arguments)}}();function Ur(e,t){var n=V(e);if(B){var r=B(e);t&&(r=X(r).call(r,(function(t){return S(e,t).enumerable}))),n.push.apply(n,r)}return n}function xr(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)z(n=Ur(Object(r),!0)).call(n,(function(t){re(e,t,r[t])}));else if(k)C(e,k(r));else{var a;z(a=Ur(Object(r))).call(a,(function(t){I(e,t,S(r,t))}))}}return e}var Fr=function(){var e=se((function*(e){var{getApp:t,initializeApp:n}=yield __import__("./firebase-app-chunk-bf776b7d.js");try{t(e)}catch(t){yield n({apiKey:"AIzaSyC5bqezR9O4Bno0kLvzdeAnBFMo2VazwcQ",databaseURL:"https://mb-integrations-prod.firebaseio.com",projectId:"mb-integrations-prod",authDomain:"mb-integrations-prod.firebaseapp.com",storageBucket:"mb-integrations-prod.appspot.com",messagingSenderId:"287484310048",appId:"1:287484310048:web:9c0a5f119bbcc423644245"},e)}}));return function(t){return e.apply(this,arguments)}}(),Nr=function(){var e=se((function*(e){var{getApp:t}=yield __import__("./firebase-app-chunk-bf776b7d.js"),{getAuth:n,signInAnonymously:r,signInWithCustomToken:a}=yield __import__("./firebase-auth-chunk-f5b24f1a.js").then((function(e){return e.B}));if(yield Fr(e),!Te()){var{getAuth:i,setPersistence:o,inMemoryPersistence:s,browserLocalPersistence:l}=yield __import__("./firebase-auth-chunk-f5b24f1a.js").then((function(e){return e.B})),c=i(t(e));try{yield o(c,l)}catch(e){fe(e,"failed to change storage persistence"),yield o(c,s)}}return{auth:n(t(e)),signInAnonymously:r,signInWithCustomToken:a}}));return function(t){return e.apply(this,arguments)}}(),Pr=function(){var e=se((function*(e){var{getApp:t}=yield __import__("./firebase-app-chunk-bf776b7d.js"),n=yield __import__("./firebase-storage-chunk-fae3c45c.js"),r=n.initializeFirestore(t(e),{experimentalAutoDetectLongPolling:!0});return xr(xr({},n),{},{database:r})}));return function(t){return e.apply(this,arguments)}}();function Qr(e,t){var n=V(e);if(B){var r=B(e);t&&(r=X(r).call(r,(function(t){return S(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vr(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)z(n=Qr(Object(r),!0)).call(n,(function(t){re(e,t,r[t])}));else if(k)C(e,k(r));else{var a;z(a=Qr(Object(r))).call(a,(function(t){I(e,t,S(r,t))}))}}return e}var Hr=()=>{try{return Intl.DateTimeFormat("en").resolvedOptions().timeZone||""}catch(e){return console.error(e,"error while getting timezone"),""}};function Wr(e,t){var n=V(e);if(B){var r=B(e);t&&(r=X(r).call(r,(function(t){return S(e,t).enumerable}))),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)z(n=Wr(Object(r),!0)).call(n,(function(t){re(e,t,r[t])}));else if(k)C(e,k(r));else{var a;z(a=Wr(Object(r))).call(a,(function(t){I(e,t,S(r,t))}))}}return e}var zr=e=>{var t,n,r,a,i,o,s,l,c,u,A,d,m,p=null,h=null;return{subscribeToMessagesMessages:(m=se((function*(t,n,r,a){var i,o,{database:s,query:l,collection:c,orderBy:u,onSnapshot:A,endBefore:d}=yield Pr(e),m=A(l(c(s,te(i=te(o="channels/".concat(e,"/users/")).call(o,t,"/threads/")).call(i,n,"/events")),u("createdAt","desc"),...h?[d(h)]:[]),(e=>{var t=[];z(e).call(e,(e=>{var n=e.data(),{createdAt:r,message:a}=n,i=sn(n,["createdAt","message"]);t.unshift(jr(jr({id:e.id,createdAt:r&&r.toDate()},i),a))})),r(t)}),(n=>{a.current=void 0,ve(n,"error getting messages",e,t)}));a.current=m})),function(e,t,n,r){return m.apply(this,arguments)}),getInitialMessages:(d=se((function*(t,n,r){var a,i,{database:o,query:s,collection:l,orderBy:c,onSnapshot:u,limit:A}=yield Pr(e),d=s(l(o,te(a=te(i="channels/".concat(e,"/users/")).call(i,t,"/threads/")).call(a,n,"/events")),c("createdAt","desc"),A(50));return new Sr(((n,a)=>{var i=u(d,(e=>{var t,r=[];p=e.docs[e.docs.length-1],h=null!==(t=e.docs[0])&&void 0!==t&&t.metadata.hasPendingWrites?null:e.docs[0],z(e).call(e,(t=>{if(!e.metadata.hasPendingWrites){var n=t.data(),{createdAt:a,message:i}=n,o=sn(n,["createdAt","message"]);r.unshift(jr(jr({id:t.id,createdAt:a&&a.toDate()},o),i))}})),i(),n(r)}),(n=>{i(),ve(n,"error getting initial messages",e,t),a(n)}));r.current=i}))})),function(e,t,n){return d.apply(this,arguments)}),fetchMoreMessages:(A=se((function*(t,n){var r,a,{database:i,query:o,collection:s,orderBy:l,onSnapshot:c,limit:u,startAfter:A}=yield Pr(e);if(!p)return Sr.resolve({messages:[],shouldNotFetchMore:!0});var d=o(s(i,te(r=te(a="channels/".concat(e,"/users/")).call(a,t,"/threads/")).call(r,n,"/events")),l("createdAt","desc"),u(50),A(p));return new Sr(((n,r)=>{var a=c(d,(e=>{var t=[];p=e.docs[e.docs.length-1],z(e).call(e,(e=>{var n=e.data(),{createdAt:r,message:a}=n,i=sn(n,["createdAt","message"]);t.unshift(jr(jr({id:e.id,createdAt:r&&r.toDate()},i),a))}));var r=t.length<50;n({messages:t,shouldNotFetchMore:r}),a()}),(n=>{a(),ve(n,"error getting more messages",e,t)}))}))})),function(e,t){return A.apply(this,arguments)}),getThreads:(u=se((function*(t,n){var{collection:r,query:a,limit:i,database:o,onSnapshot:s}=yield Pr(e);return new Sr(((l,c)=>{var u,A=a(r(o,te(u="channels/".concat(e,"/users/")).call(u,t,"/threads")),i(1)),d=s(A,(e=>{var t,r={};z(t=e.docs).call(t,(e=>{var t=e.data(),{lastMessageAt:a}=t,i=sn(t,["lastMessageAt"]);r={[e.id]:jr(jr({},i),{},{lastMessageAt:a&&e.data().lastMessageAt.toDate()})},d(),n.current=void 0,l(r)}))}),(r=>{ve(r,"error getting threads",e,t),d(),n.current=void 0,c(r)}));n.current=d}))})),function(e,t){return u.apply(this,arguments)}),createUser:(c=se((function*(t){try{var{collection:n,database:r,serverTimestamp:a,doc:i,getDoc:o,setDoc:s}=yield Pr(e);On("livechatwidget_create_user_base");var l=i(n(r,"channels/".concat(e,"/users")),"".concat(t));if((yield o(l)).exists())return;yield s(l,{firstName:null,lastName:null,locale:"".concat(navigator.language),timezone:Hr(),createdAt:a(),acceptedTermsAndConditions:null,acceptedAt:null},{merge:!0}),On("livechatwidget_create_user_success")}catch(n){throw On("livechatwidget_create_user_error"),ve(n,"error creating user",e,t),n}})),function(e){return c.apply(this,arguments)}),sendMessage:(l=se((function*(t,n,r,a,i,o){try{var s,l,{collection:c,database:u,serverTimestamp:A,addDoc:d}=yield Pr(e);On("livechatwidget_send_message_base");var m=yield Dr(),p=(e=>{var t;if(e&&V(e).length){var n=He(t=Cn(e)).call(t,((e,t)=>{var n,[r,a]=t,i=typeof a;return x(n=["string","number","boolean"]).call(n,i)||null===a?Vr(Vr({},e),{},{[r]:a}):e}),{});if(V(n).length)return{attributes:Vr({},n)}}})(null==a?void 0:a.attributes);Rr("AFTER_SANITIZE",e,t,null==p?void 0:p.attributes);var h={text:r};o&&o.length>0&&(h.attachments=P(o).call(o,(e=>({id:e.id,contentLength:e.file.size,mimeType:e.mimeType}))));var g=c(u,te(s=te(l="channels/".concat(e,"/users/")).call(l,t,"/threads/")).call(s,n,"/events"));yield d(g,jr({createdAt:A(),message:{from:t,direction:"incoming",status:"sent",payload:h},metadata:jr(jr({},a),{},{os:m,locale:navigator.languages||[""],userAgent:navigator.userAgent,timezone:"".concat(Intl.DateTimeFormat().resolvedOptions().timeZone),widgetLoads:(f=e,we("widgetLoadCount:".concat(f))||0)},p)},i?{event:i}:void 0)),On("livechatwidget_send_message_success")}catch(n){throw On("livechatwidget_send_message_error"),ve(n,"error sending message",e,t),n}var f})),function(e,t,n,r,a,i){return l.apply(this,arguments)}),sendFakeOutgoingMessage:(s=se((function*(t,n,r){try{var a,i,{collection:o,addDoc:s,database:l,serverTimestamp:c}=yield Pr(e),u=o(l,te(a=te(i="channels/".concat(e,"/users/")).call(i,t,"/threads/")).call(a,n,"/events"));yield s(u,{createdAt:c(),message:{from:t,direction:"outgoing",status:"sent",payload:{text:r}}})}catch(n){ve(n,"error sending fake message",e,t)}})),function(e,t,n){return s.apply(this,arguments)}),getUserDetails:(o=se((function*(t){try{var{collection:n,doc:r,database:a,getDoc:i}=yield Pr(e),o=r(n(a,"channels/".concat(e,"/users")),"".concat(t));return(yield i(o)).data()}catch(n){throw ve(n,"error fetching user details",e,t),n}})),function(e){return o.apply(this,arguments)}),setUserAcceptedTerms:(i=se((function*(t,n){try{On("js_livechatwidget_terms_choice",{accepted:"".concat(n)});var{collection:r,doc:a,database:i,updateDoc:o,serverTimestamp:s}=yield Pr(e);return yield o(a(r(i,"channels/".concat(e,"/users")),"".concat(t)),{acceptedTermsAndConditions:n,acceptedAt:s()})}catch(n){ve(n,"error setting terms accepted",e,t)}})),function(e,t){return i.apply(this,arguments)}),getConnectedAgent:(a=se((function*(t){var{doc:n,database:r,getDoc:a}=yield Pr(e);return new Sr(function(){var i=se((function*(i,o){try{var s=n(r,"channels/".concat(e,"/agents"),"".concat(t));i((yield a(s)).data())}catch(t){ve(t,"error fetching connected agent",e),o(t)}}));return function(e,t){return i.apply(this,arguments)}}())})),function(e){return a.apply(this,arguments)}),getAgents:(r=se((function*(){var{collection:t,query:n,where:r,database:a,getDocs:i,limit:o}=yield Pr(e);return new Sr(function(){var s=se((function*(s,l){try{var c=[],u=n(t(a,"channels/".concat(e,"/agents")),r("avatarUrl",">",""),o(5)),A=yield i(u);return z(A).call(A,(e=>{var t=e.data();c.push(t)})),s(c)}catch(t){ve(t,"error fetching Agents",e),l(t)}}));return function(e,t){return s.apply(this,arguments)}}())})),function(){return r.apply(this,arguments)}),getFileAttachment:(n=se((function*(t,n,r){try{var a,{collection:i,doc:o,database:s,onSnapshot:l}=yield Pr(e);return l(o(i(s,te(a="channels/".concat(e,"/users/")).call(a,t,"/uploads")),"".concat(n)),(e=>{var t=e.data();r(t)}))}catch(e){ve(e,"error getting attachment")}})),function(e,t,r){return n.apply(this,arguments)}),updateMessageStatus:(t=se((function*(t,n,r){try{var a,i,o,{doc:s,database:l,updateDoc:c}=yield Pr(e),u=s(l,te(a=te(i=te(o="channels/".concat(e,"/users/")).call(o,t,"/threads/")).call(i,n,"/events/")).call(a,r));yield c(u,{"message.status":"read"})}catch(e){ve(e,"error updating message status")}})),function(e,n,r){return t.apply(this,arguments)})}},qr=(e,n)=>{var[a,i]=t(void 0);return r((()=>{(function(){var t=se((function*(){if(e&&void 0===a&&e&&n){var t=yield zr(e);i(t)}}));return function(){return t.apply(this,arguments)}})()()}),[e,a,n]),{store:a}},Gr=pt("auth"),Yr=e=>{return{logout:(o=se((function*(){try{var{auth:t}=yield Nr(e);yield t.signOut();var{uid:n,token:r,expirationTime:a}=yield Yr(e).signInAnonymously();return{uid:n,token:r,expirationTime:a}}catch(e){throw fe(e,"failed to logout and refresh user session"),e}})),function(){return o.apply(this,arguments)}),signInAnonymously:(i=se((function*(){try{Gr.info("Starting authorizing user anonymously...");var{auth:t,signInAnonymously:n}=yield Nr(e),r=yield n(t);On("js_livechatwidget_user_created");var a=r.user.uid,{token:i,expirationTime:o}=yield r.user.getIdTokenResult(!1);return yield Yr(e).createUserInFireStore(a),Gr.success("User authorized successfully...",{"user id":a}),{uid:a,token:i,expirationTime:o}}catch(e){throw fe(e,"failed to sign in Anonymously"),e}})),function(){return i.apply(this,arguments)}),getCurrentUser:()=>new Sr(function(){var t=se((function*(t,n){var{auth:r}=yield Nr(e),a=r.onAuthStateChanged(function(){var e=se((function*(e){try{t(e)}catch(e){fe(e,"failed to get user from firebase"),n(e)}finally{null==a||a()}}));return function(t){return e.apply(this,arguments)}}())}));return function(e,n){return t.apply(this,arguments)}}()),identifyVisitor:(a=se((function*(t){try{var n=yield Yr(e).getCurrentUser(),r=n.uid,{token:a,expirationTime:i}=yield n.getIdTokenResult();if(r===t)return{token:a,expirationTime:i,uid:t};Gr.info("start identifyVisitor",{});var o,s=yield zr(e).getUserDetails(r);if(null!=s&&s.createdAt){var{token:l}=yield xe(t,e,r,a);o=l}else{yield Yr(e).createUserInFireStore(r);var{token:c}=yield xe(t,e,r,a);o=c}try{var{auth:u,signInWithCustomToken:A}=yield Nr(e);Gr.info("identified user",{identifiedUserToken:o});var d=yield A(u,o),m=d.user.uid,{token:p,expirationTime:h}=yield d.user.getIdTokenResult();return yield Yr(e).createUserInFireStore(m),{token:p,expirationTime:h,uid:m}}catch(e){throw fe(e,"failed signing in user with Custom token"),e}}catch(e){throw fe(e,"failed identifying visitor"),e}})),function(e){return a.apply(this,arguments)}),createUserInFireStore:(r=se((function*(t){try{Gr.info("Creating user in Firestore",{"temporary user id":t}),yield zr(e).createUser(t)}catch(e){throw Gr.error("Failed to Create a user in Firestore",{"temporary user id":t,error:e}),fe(e,"error creating a temporary user in Firestore"),e}})),function(e){return r.apply(this,arguments)}),restoreBrokenUser:(n=se((function*(t){try{On("js_livechatwidget_restore_user_from_local_storage_base",{widgetId:e,currentUid:t}),Gr.warn("Found user in LocalStorage but does not exist in Firebase",{"current userId in LocalStorage":t});var{uid:n}=yield Yr(e).signInAnonymously();Gr.info("Identifying temporary user via MAPI",{"temporary user id":n});var r=yield Yr(e).identifyVisitor(t);return On("js_livechatwidget_restore_user_from_local_storage_success",{widgetId:e,newUid:r.uid}),r}catch(e){throw fe(e,"failed restoreBrokenUser"),e}})),function(e){return n.apply(this,arguments)}),refreshAuthToken:()=>new Sr(function(){var t=se((function*(t,n){var{auth:r}=yield Nr(e),a=r.onAuthStateChanged(function(){var e=se((function*(e){try{var{token:r,expirationTime:i}=yield e.getIdTokenResult(!0);Gr.success("Token refresh complete",{expirationTime:i}),t({token:r,expirationTime:i})}catch(e){n(e)}finally{a()}}));return function(t){return e.apply(this,arguments)}}())}));return function(e,n){return t.apply(this,arguments)}}()),initialAuthorization:(t=se((function*(t){try{var n=yield Yr(e).getCurrentUser();Gr.info("Starting user initialization",{"current user in firebase":n,"current user Id in local storage":t});var r=null==n?void 0:n.uid;if(t&&!r){Gr.info("Attempting to restore user...",{"current user in fire base":n,"current user id":t}),On("js_livechatwidget_restore_user_from_local_storage_base",{widgetId:e,currentUid:t});var{uid:a,token:i,expirationTime:o}=yield Yr(e).restoreBrokenUser(t);return{uid:a,token:i,expirationTime:o}}if(!n&&!t){Gr.info("Creating new user",{"current user in fire base":n,"current user id":t});var{uid:s,token:l,expirationTime:c}=yield Yr(e).signInAnonymously();return{uid:s,token:l,expirationTime:c}}var{token:u,expirationTime:A}=yield n.getIdTokenResult();return Gr.success("User authorized successfully",{"user id":r}),{token:u,expirationTime:A,uid:r}}catch(e){throw Gr.error("Failed to Authorize user",{error:e}),fe(e,"failed initial authorization of user"),e}})),function(e){return t.apply(this,arguments)})};var t,n,r,a,i,o},Kr=pt("auth"),Zr=(e,t,n)=>{var i=a(),o=a();r((()=>{if(t){if(i.current&&i.current===t&&o.current)return;i.current&&i.current!==t&&(Kr.info("Token refresh cancel",{"new expirationTime":t,"old expirationTime":i.current}),clearTimeout(o.current),o.current=void 0),i.current=t;var r=function(){var t=se((function*(){try{var{token:t,expirationTime:r}=yield Yr(e).refreshAuthToken();n({token:t,expirationTime:r}),i.current=void 0,o.current=void 0}catch(e){Kr.error("Token refresh failed",{e:e}),fe(e,"failed to updateExpiredAuthToken")}}));return function(){return t.apply(this,arguments)}}(),a=(new Date).toUTCString(),s=Math.abs(Date.parse(a)-Date.parse(t)+6e3);return Kr.info("Token refresh scheduled",{expirationTime:t,timeNow:a,timeTilExpiry:s}),o.current=q((()=>{r()}),s),()=>{o.current&&clearTimeout(o.current)}}}),[t,n,e])};class Jr extends Error{constructor(e){super("AuthError. ".concat(e))}}function Xr(e,t){var n=V(e);if(B){var r=B(e);t&&(r=X(r).call(r,(function(t){return S(e,t).enumerable}))),n.push.apply(n,r)}return n}function $r(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)z(n=Xr(Object(r),!0)).call(n,(function(t){re(e,t,r[t])}));else if(k)C(e,k(r));else{var a;z(a=Xr(Object(r))).call(a,(function(t){I(e,t,S(r,t))}))}}return e}var ea=pt("authQueuer"),ta={state:"AUTH_INITIAL"},na=(e,t)=>{switch(e.state){case"AUTH_INITIAL":switch(t.type){case"AUTH_INITIALIZE":return{state:"AUTH_LOADING"}}return e;case"AUTH_LOADING":switch(t.type){case"AUTH_FAILED":return{state:"AUTH_ERROR_RETRY"};case"AUTH_READY":return{state:"AUTH_READY",data:t.data}}return e;case"AUTH_READY":switch(t.type){case"AUTH_LOGOUT":return{state:"AUTH_LOGGING_OUT"};case"AUTH_IDENTIFY":return{state:"AUTH_IDENTIFYING",data:t.data}}return e;case"AUTH_LOGGING_OUT":case"AUTH_IDENTIFYING":switch(t.type){case"AUTH_FAILED":return{state:"AUTH_ERROR_RETRY"};case"AUTH_READY":return{state:"AUTH_READY",data:t.data}}return e;case"AUTH_ERROR_RETRY":switch(t.type){case"AUTH_FAILED":return{state:"AUTH_ERROR"};case"AUTH_RESET":return{state:"AUTH_INITIAL"}}return e;default:return e}},ra=pt("auth"),aa={logout:{argument:!1,resolve:void 0,reject:void 0},identify:{argument:void 0,resolve:void 0,reject:void 0}},ia=(e,i)=>{var{machine:o,dispatch:s}=(()=>{var[e,t]=c(na,ta);return{machine:e,dispatch:t}})(),[l,u,A]=(e=>{var{storageState:t,setStorageState:n,isStorageStateReady:a}=Ie("userId",void 0,e);return r((()=>{if(a)return e&&t&&"undefined"!==t?n(t):void 0}),[t,e,n,a]),r((()=>{a&&"undefined"===t&&n(void 0)}),[t,n,a]),[t,n,a]})(i),[d,m]=t(void 0),{queue:p,createQueue:h,updateQueue:g}=(e=>{var i=a(e),o=a(void 0),[,s]=t(0),l=n((e=>{i.current=e(i.current),o.current=q((()=>{o.current&&s((e=>e+1))}),0)}),[]);r((()=>()=>{o.current&&(clearTimeout(o.current),o.current=void 0)}),[]);var c=i.current;return{updateQueue:l,createQueue:t=>n=>{return t&&e[t]?n&&c[t].argument===n||c[t].resolve&&c[t].reject?Sr.reject(new Jr(te(r="[".concat((new Date).toISOString(),"] ")).call(r,t," is already in progress! Ignoring the following calls"))):(ea.info("Existing queue",{queue:c}),new Sr(((r,a)=>{ea.info("Scheduling ".concat(t),{argument:n}),l((i=>$r($r({},i),{},{[t]:{argument:n||!0,resolve:n=>{l((()=>e)),ea.info("Resolved ".concat(t," Queue item"),{queue:c}),r(n)},reject:()=>{l((()=>e)),a()}}})))}))):(ea.error("Passed method which was not part of initial queue argument"),Sr.reject());var r},queue:i.current}})(aa),f=h("logout"),v=h("identify"),_=o.state,E=n(se((function*(){try{On("livechat_auth_initialAuthorization_base");var e=yield Yr(i).initialAuthorization(l);u(e.uid),m({token:e.token,expirationTime:e.expirationTime}),s({type:"AUTH_READY",data:{uid:e.uid,token:e.token,expirationTime:e.expirationTime}}),On("livechat_auth_initialAuthorization_success")}catch(e){On("livechat_auth_initialAuthorization_error"),fe(e,"error trying to initial auth"),s({type:"AUTH_FAILED"})}})),[s,u,l,i]),w=n(function(){var e=se((function*(e){if(p.identify.argument){On("livechat_auth_login_base"),ra.info("Start logging in user",{"new user id":e,"is user ready":_});try{var{uid:t,token:n,expirationTime:r}=yield Yr(i).identifyVisitor(e);ra.success("User identified successfully with custom token",{"user id":t}),u(t),m({token:n,expirationTime:r}),p.identify.resolve({newUid:t,newToken:n,newExpirationTime:r}),s({type:"AUTH_READY",data:{uid:t,token:n,expirationTime:r}}),On("livechat_auth_login_success")}catch(e){On("livechat_auth_login_error");var a=e;throw fe(a,"error signing in user with custom token"),p.identify.reject(),s({type:"AUTH_FAILED"}),a}}}));return function(t){return e.apply(this,arguments)}}(),[p.identify,_,i,u,s]),b=n(se((function*(){try{if(!p.logout.argument)return;On("livechat_auth_logout_base"),ra.info("Start logging out user",{"is user ready":_});var{uid:e,token:t,expirationTime:n}=yield Yr(i).logout();ra.success("User logged out successfully"),u(e),m({token:t,expirationTime:n}),p.logout.resolve({newUid:e,newToken:t,newExpirationTime:n}),s({type:"AUTH_READY",data:{uid:e,token:t,expirationTime:n}}),On("livechat_auth_logout_success")}catch(e){throw On("livechat_auth_logout_error"),fe(e,"error logging out user and signing in anon"),s({type:"AUTH_FAILED"}),p.logout.reject(),e}})),[_,s,p.logout,u,i]),T=n(((e,t,n)=>{ra.info("updating user",{newUid:e,newToken:t,uid:l}),e!==l&&(u(e),m({token:t,expirationTime:n}))}),[l,u]);Zr(i,null==d?void 0:d.expirationTime,m);var I="AUTH_IDENTIFYING"===o.state?o.data.uidToLogin:"",C=a(0),k=a(o.state),S=i&&A&&e;return r((()=>{var e=function(){var e=se((function*(){switch(ra.info("Changed state",{currentState:_}),_){case"AUTH_INITIAL":return On("livechat_auth_initializing"),void(S&&s({type:"AUTH_INITIALIZE"}));case"AUTH_LOADING":return void E();case"AUTH_LOGGING_OUT":return yield b(),void g((()=>aa));case"AUTH_IDENTIFYING":return yield w(I),void g((()=>aa));case"AUTH_READY":return ra.info("entering AUTH_READY",{queue:p,uid:l}),(e=>{var{uid:t,widgetId:n}=e;y({uid:t,widgetId:n})})({uid:l,widgetId:i}),p.identify.argument?(On("livechat_auth_ready_identify_queue"),void s({type:"AUTH_IDENTIFY",data:{uidToLogin:p.identify.argument}})):p.logout.argument?(On("livechat_auth_ready_identify_logout"),void s({type:"AUTH_LOGOUT"})):void On("livechat_auth_ready");case"AUTH_ERROR_RETRY":return On("livechat_auth_error_retry"),C.current<5?void s({type:"AUTH_RESET"}):(C.current=C.current+1,void s({type:"AUTH_FAILED"}));case"AUTH_ERROR":return On("livechat_auth_full_error"),g((()=>aa)),void ue({type:"RELOAD_IFRAME_AFTER_ERROR"});default:return void ra.warn("entered unhandled invalid auth state",{currentState:_})}}));return function(){return e.apply(this,arguments)}}();(k.current!==o.state||p.identify.argument||p.logout.argument||S)&&(k.current=o.state,e())}),[_,s,E,w,b,o.state,p,S,l,I,g,i]),{currentState:o.state,uid:"AUTH_READY"===o.state?l:void 0,authToken:"AUTH_READY"===o.state?null==d?void 0:d.token:void 0,isUserReady:"AUTH_READY"===o.state,updateUser:T,logout:f,loginVisitor:v}},oa={messages:[],agents:[],connectedAgent:void 0},sa=m.Object.values,la=(e,t)=>{var n,r;return e[t]||e[null===(n=t.split("-"))||void 0===n?void 0:n[0]]||(null===(r=sa(e))||void 0===r?void 0:r[0])},ca=O("Array").reverse,ua=Array.prototype,Aa=function(e){var t=e.reverse;return e===ua||e instanceof Array&&t===ua.reverse?ca:t};function da(e){return e||(e=0),new Promise((function(t){return setTimeout(t,e)}))}function ma(){return Math.random().toString(36).substring(2)}var pa=0,ha=0;function ga(){var e=(new Date).getTime();return e===pa?1e3*e+ ++ha:(pa=e,ha=0,1e3*e)}var fa="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0);var va={create:function(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(e){t.messagesCallback&&t.messagesCallback(e.data)},t},close:function(e){e.bc.close(),e.subFns=[]},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){try{return e.bc.postMessage(t,!1),Promise.resolve()}catch(e){return Promise.reject(e)}},canBeUsed:function(){if(fa&&"undefined"==typeof window)return!1;if("function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1},type:"native",averageResponseTime:function(){return 150},microSeconds:ga},ya=function(){function e(e){this.ttl=e,this.set=new Set,this.timeMap=new Map}return e.prototype.has=function(e){return this.set.has(e)},e.prototype.add=function(e){var t=this;this.timeMap.set(e,_a()),this.set.add(e),setTimeout((function(){!function(e){var t=_a()-e.ttl,n=e.set[Symbol.iterator]();for(;;){var r=n.next().value;if(!r)return;if(!(e.timeMap.get(r)<t))return;e.timeMap.delete(r),e.set.delete(r)}}(t)}),0)},e.prototype.clear=function(){this.set.clear(),this.timeMap.clear()},e}();function _a(){return(new Date).getTime()}function Ea(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return void 0===t.webWorkerSupport&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&"function"==typeof e.idb.onclose&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),void 0===t.node.useFastPath&&(t.node.useFastPath=!0),t}function wa(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB;if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB;if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function ba(e,t){var n=e.transaction("messages").objectStore("messages"),r=[];return new Promise((function(e){(function(){try{var e=IDBKeyRange.bound(t+1,1/0);return n.openCursor(e)}catch(e){return n.openCursor()}}()).onsuccess=function(n){var a=n.target.result;a?a.value.id<t+1?a.continue(t+1):(r.push(a.value),a.continue()):e(r)}}))}function Ta(e,t){return function(e,t){var n=(new Date).getTime()-t,r=e.transaction("messages").objectStore("messages"),a=[];return new Promise((function(e){r.openCursor().onsuccess=function(t){var r=t.target.result;if(r){var i=r.value;if(!(i.time<n))return void e(a);a.push(i),r.continue()}else e(a)}}))}(e,t).then((function(t){return Promise.all(t.map((function(t){return function(e,t){var n=e.transaction(["messages"],"readwrite").objectStore("messages").delete(t);return new Promise((function(e){n.onsuccess=function(){return e()}}))}(e,t.id)})))}))}function Ia(e){e.closed||Ca(e).then((function(){return da(e.options.idb.fallbackInterval)})).then((function(){return Ia(e)}))}function Ca(e){return e.closed?Promise.resolve():e.messagesCallback?ba(e.db,e.lastCursorId).then((function(t){return t.filter((function(e){return!!e})).map((function(t){return t.id>e.lastCursorId&&(e.lastCursorId=t.id),t})).filter((function(t){return function(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}(t,e)})).sort((function(e,t){return e.time-t.time})).forEach((function(t){e.messagesCallback&&(e.eMIs.add(t.id),e.messagesCallback(t.data))})),Promise.resolve()})):Promise.resolve()}var ka={create:function(e,t){return t=Ea(t),function(e){var t="pubkey.broadcast-channel-0-"+e,n=wa().open(t,1);return n.onupgradeneeded=function(e){e.target.result.createObjectStore("messages",{keyPath:"id",autoIncrement:!0})},new Promise((function(e,t){n.onerror=function(e){return t(e)},n.onsuccess=function(){e(n.result)}}))}(e).then((function(n){var r={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:ma(),eMIs:new ya(2*t.idb.ttl),writeBlockPromise:Promise.resolve(),messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},Ia(r),r}))},close:function(e){e.closed=!0,e.db.close()},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,Ca(e)},postMessage:function(e,t){return e.writeBlockPromise=e.writeBlockPromise.then((function(){return function(e,t,n){var r={uuid:t,time:(new Date).getTime(),data:n},a=e.transaction(["messages"],"readwrite");return new Promise((function(e,t){a.oncomplete=function(){return e()},a.onerror=function(e){return t(e)},a.objectStore("messages").add(r)}))}(e.db,e.uuid,t)})).then((function(){var t,n;0===(t=0,n=10,Math.floor(Math.random()*(n-t+1)+t))&&Ta(e.db,e.options.idb.ttl)})),e.writeBlockPromise},canBeUsed:function(){return!fa&&!!wa()},type:"idb",averageResponseTime:function(e){return 2*e.idb.fallbackInterval},microSeconds:ga};function Sa(){var e;if("undefined"==typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch(e){}return e}function Ma(e){return"pubkey.broadcastChannel-"+e}function Ba(){if(fa)return!1;var e=Sa();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch(e){return!1}return!0}var Oa={create:function(e,t){if(t=Ea(t),!Ba())throw new Error("BroadcastChannel: localstorage cannot be used");var n=ma(),r=new ya(t.localstorage.removeTimeout),a={channelName:e,uuid:n,eMIs:r};return a.listener=function(e,t){var n=Ma(e),r=function(e){e.key===n&&t(JSON.parse(e.newValue))};return window.addEventListener("storage",r),r}(e,(function(e){a.messagesCallback&&e.uuid!==n&&e.token&&!r.has(e.token)&&(e.data.time&&e.data.time<a.messagesCallbackTime||(r.add(e.token),a.messagesCallback(e.data)))})),a},close:function(e){var t;t=e.listener,window.removeEventListener("storage",t)},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t},postMessage:function(e,t){return new Promise((function(n){da().then((function(){var r=Ma(e.channelName),a={token:ma(),time:(new Date).getTime(),data:t,uuid:e.uuid},i=JSON.stringify(a);Sa().setItem(r,i);var o=document.createEvent("Event");o.initEvent("storage",!0,!0),o.key=r,o.newValue=i,window.dispatchEvent(o),n()}))}))},canBeUsed:Ba,type:"localstorage",averageResponseTime:function(){var e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?240:120},microSeconds:ga},La=ga,Ra=new Set;var Da={create:function(e){var t={name:e,messagesCallback:null};return Ra.add(t),t},close:function(e){Ra.delete(e)},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){return new Promise((function(n){return setTimeout((function(){Array.from(Ra).filter((function(t){return t.name===e.name})).filter((function(t){return t!==e})).filter((function(e){return!!e.messagesCallback})).forEach((function(e){return e.messagesCallback(t)})),n()}),5)}))},canBeUsed:function(){return!0},type:"simulate",averageResponseTime:function(){return 5},microSeconds:La},Ua=[va,ka,Oa];if(fa){var xa=require("../../src/methods/node.js");"function"==typeof xa.canBeUsed&&Ua.push(xa)}var Fa=function(e,t){var n,r,a;this.name=e,this.options=Ea(t),this.method=function(e){var t=[].concat(e.methods,Ua).filter(Boolean);if(e.type){if("simulate"===e.type)return Da;var n=t.find((function(t){return t.type===e.type}));if(n)return n;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||fa||(t=t.filter((function(e){return"idb"!==e.type})));var r=t.find((function(e){return e.canBeUsed()}));if(r)return r;throw new Error("No useable methode found:"+JSON.stringify(Ua.map((function(e){return e.type}))))}(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,r=(n=this).method.create(n.name,n.options),(a=r)&&"function"==typeof a.then?(n._prepP=r,r.then((function(e){n._state=e}))):n._state=r};function Na(e,t,n){var r={time:e.method.microSeconds(),type:t,data:n};return(e._prepP?e._prepP:Promise.resolve()).then((function(){var t=e.method.postMessage(e._state,r);return e._uMP.add(t),t.catch().then((function(){return e._uMP.delete(t)})),t}))}function Pa(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function Qa(e,t,n){e._addEL[t].push(n),function(e){if(!e._iL&&Pa(e)){var t=function(t){e._addEL[t.type].forEach((function(e){t.time>=e.time&&e.fn(t.data)}))},n=e.method.microSeconds();e._prepP?e._prepP.then((function(){e._iL=!0,e.method.onMessage(e._state,t,n)})):(e._iL=!0,e.method.onMessage(e._state,t,n))}}(e)}function Va(e,t,n){e._addEL[t]=e._addEL[t].filter((function(e){return e!==n})),function(e){if(e._iL&&!Pa(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}(e)}Fa._pubkey=!0,Fa.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed");return Na(this,"message",e)},postInternal:function(e){return Na(this,"internal",e)},set onmessage(e){var t={time:this.method.microSeconds(),fn:e};Va(this,"message",this._onML),e&&"function"==typeof e?(this._onML=t,Qa(this,"message",t)):this._onML=null},addEventListener:function(e,t){Qa(this,e,{time:this.method.microSeconds(),fn:t})},removeEventListener:function(e,t){Va(this,e,this._addEL[e].find((function(e){return e.fn===t})))},close:function(){var e=this;if(!this.closed){this.closed=!0;var t=this._prepP?this._prepP:Promise.resolve();return this._onML=null,this._addEL.message=[],t.then((function(){return Promise.all(Array.from(e._uMP))})).then((function(){return Promise.all(e._befC.map((function(e){return e()})))})).then((function(){return e.method.close(e._state)}))}},get type(){return this.method.type},get isClosed(){return this.closed}};var Ha=(e,t)=>{var i=a(null),o=a(!1),s=n((e=>{var t,n;null!==(t=i.current)&&void 0!==t&&t.isClosed||null===(n=i.current)||void 0===n||n.postMessage(e)}),[i]);return r((()=>{if(e){var n=(e=>{try{return new Fa("livechat-cross-tab-context:".concat(e))}catch(e){return null}})(e);return i.current=n,!o.current&&n&&(o.current=!0,n.onmessage=t),()=>{o.current=!1,null==n||n.close()}}}),[e,t]),{broadcastMessage:s}};class Wa{constructor(e){this._entries=e}getEntries(){return this._entries}getEntriesByType(e){return this._entries.filter((t=>t.entryType===e))}getEntriesByName(e,t){return this._entries.filter((t=>t.name===e)).filter((e=>!t||e.entryType===t))}}const ja=["mark","measure","navigation","resource"],za="Failed to execute 'observe' on 'PerformanceObserver': either an 'entryTypes' or 'type' member must be present.",qa="Failed to execute 'observe' on 'PerformanceObserver': either an 'entryTypes' or 'type' member must be present, not both.",Ga="Aborting 'observe' on 'PerformanceObserver': no valid entry types present in either 'entryTypes' or 'type' member.",Ya="Invalid or unsupported entry types provided to 'observe' on 'PerformanceObserver'.",Ka=e=>ja.some((t=>e===t)),Za=new class{constructor({registeredObservers:e=new Set,processedEntries:t=new Set,interval:n=100,context:r=self}={}){this.registeredObservers=e,this.processedEntries=t,this.interval=n,this.context=r,this.intervalId=null}getNewEntries(){return this.context.performance.getEntries().filter((e=>!this.processedEntries.has(e)))}getObserversForType(e,t){return Array.from(e).filter((e=>e.entryTypes.some((e=>e===t))))}processBuffer(e){const t=Array.from(e.buffer),n=new Wa(t);e.buffer.clear(),t.length&&e.callback&&e.callback.call(void 0,n,e)}processEntries(){this.getNewEntries().forEach((e=>{const{entryType:t}=e;this.getObserversForType(this.registeredObservers,t).forEach((t=>{t.buffer.add(e)})),this.processedEntries.add(e)}));const e=()=>this.registeredObservers.forEach(this.processBuffer);"requestAnimationFrame"in this.context?this.context.requestAnimationFrame(e):this.context.setTimeout(e,0)}add(e){this.registeredObservers.add(e),1===this.registeredObservers.size&&this.observe()}remove(e){this.registeredObservers.delete(e),this.registeredObservers.size||this.disconnect()}observe(){this.intervalId=this.context.setInterval(this.processEntries.bind(this),this.interval)}disconnect(){this.intervalId=this.context.clearInterval(this.intervalId)}};class Ja{constructor(e,t=Za){this.entryTypes=[],this.callback=e,this.buffer=new Set,this.taskQueue=t}observe(e){if(!e)throw new Error(za);if(e.entryTypes&&e.type)throw new Error(qa);let t;if(e.entryTypes)t=e.entryTypes;else{if(!e.type)throw new Error(za);t=[e.type]}const n=t.filter(Ka);n.length>0&&n.length!==t.length&&console.warn(Ya),n.length?(this.entryTypes=n,this.taskQueue.add(this)):console.warn(Ga)}disconnect(){this.taskQueue.remove(this)}takeRecords(){return Array.from(this.buffer)}}Ja.supportedEntryTypes=ja;var Xa,$a,ei,ti,ni="PerformanceObserver"in self&&"function"==typeof PerformanceObserver?PerformanceObserver:Ja,ri=function(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},ai=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(e){}},ii=function(e,t){var n=function n(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},oi=function(e){addEventListener("pageshow",(function(t){t.persisted&&e(t)}),!0)},si=function(e,t,n){var r;return function(a){t.value>=0&&(a||n)&&(t.delta=t.value-(r||0),(t.delta||void 0===r)&&(r=t.value,e(t)))}},li=-1,ci=function(){return"hidden"===document.visibilityState?0:1/0},ui=function(){ii((function(e){var t=e.timeStamp;li=t}),!0)},Ai=function(){return li<0&&(li=ci(),ui(),oi((function(){setTimeout((function(){li=ci(),ui()}),0)}))),{get firstHiddenTime(){return li}}},di={passive:!0,capture:!0},mi=new Date,pi=function(e,t){Xa||(Xa=t,$a=e,ei=new Date,fi(removeEventListener),hi())},hi=function(){if($a>=0&&$a<ei-mi){var e={entryType:"first-input",name:Xa.type,target:Xa.target,cancelable:Xa.cancelable,startTime:Xa.timeStamp,processingStart:Xa.timeStamp+$a};ti.forEach((function(t){t(e)})),ti=[]}},gi=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){pi(e,t),a()},r=function(){a()},a=function(){removeEventListener("pointerup",n,di),removeEventListener("pointercancel",r,di)};addEventListener("pointerup",n,di),addEventListener("pointercancel",r,di)}(t,e):pi(t,e)}},fi=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,gi,di)}))},vi=new Set;function yi(e,t){var n=V(e);if(B){var r=B(e);t&&(r=X(r).call(r,(function(t){return S(e,t).enumerable}))),n.push.apply(n,r)}return n}function _i(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)z(n=yi(Object(r),!0)).call(n,(function(t){re(e,t,r[t])}));else if(k)C(e,k(r));else{var a;z(a=yi(Object(r))).call(a,(function(t){I(e,t,S(r,t))}))}}return e}var Ei=[500,1e3,1500,2e3,2500,3e3,3500,4e3,4500,5e3,5500,6e3,6500,7e3,7500,8e3,8500,9e3,9500,1e4],wi=()=>window.navigator.userAgent.match(/mobile/i)?"Mobile":window.navigator.userAgent.match(/iPad|Android|Touch/i)?"Tablet":"Desktop",bi=()=>{var e,t;return null!==(e=null===(t=window.navigator.connection)||void 0===t?void 0:t.effectiveType)&&void 0!==e?e:"."},Ti=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";try{var t,n=window.performance.getEntriesByType("resource"),r=He(n).call(n,((e,t)=>{var n=Math.round(null==t?void 0:t.decodedBodySize)/1e3;if("xmlhttprequest"===(null==t?void 0:t.initiatorType))return e;var r=t.name.split("?")[0].split("."),a=r[r.length-1];if("css"===a)return _i(_i({},e),{},{css:e.css+n});if("js"===a)return _i(_i({},e),{},{js:e.js+n});var i=e[a]||0;return _i(_i({},e),{},{[a]:i+n})}),{js:0,css:0});z(t=V(r)).call(t,(t=>{var n;r[t]&&Bn({type:"gauge",method:"set",name:te(n="livechatwidget_resource_timings_".concat(t,"_")).call(n,e),value:Math.round(r[t])})}))}catch(e){}},Ii=e=>t=>{Bn({type:"histogram",method:"observe",name:"livechatwidget_".concat(e),buckets:Ei,value:Math.round(t.value),labels:{connectionType:bi(),deviceType:wi()}})};function Ci(e,t){var n=V(e);if(B){var r=B(e);t&&(r=X(r).call(r,(function(t){return S(e,t).enumerable}))),n.push.apply(n,r)}return n}function ki(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)z(n=Ci(Object(r),!0)).call(n,(function(t){re(e,t,r[t])}));else if(k)C(e,k(r));else{var a;z(a=Ci(Object(r))).call(a,(function(t){I(e,t,S(r,t))}))}}return e}var Si=pt("liveChatContext"),Mi="STATIC:",Bi={widgetId:"",selectedThread:"LOCAL_THREAD",config:void 0,windowConfig:void 0,threads:void 0,messages:{LOCAL_THREAD:[]},oldMessages:{LOCAL_THREAD:[]},connectedAgent:void 0,agents:void 0,isLoading:!0,isWaitingForReplyAfterButtons:!1},Oi=()=>{},Li=function(){var e=se((function*(){}));return function(){return e.apply(this,arguments)}}(),Ri=u(ki(ki({},Bi),{},{messages:[],isOpen:!1,currentRoute:ln.Home,latestSeenMessage:void 0,toggleWidgetOpenState:Oi,sendMessage:Li,sendFakeOutgoingMessage:Li,sendEvent:Oi,setNewMessages:Oi,push:Oi,setDataConsent:Oi,setConnectChannelLink:Oi,newMessages:0,hasConsent:null,isPreviewMode:!1,connectChannelLink:"",parentInnerHeight:void 0,playedSoundLatestMessageId:void 0,messagePopups:[],setAllCurrentPopupsAsSeen:Oi,dismissPopup:Oi,setSelectedPopup:Oi,setSelectedPopupButton:Oi,authToken:void 0,uid:void 0,currentAttachments:[],updateMessageStatus:Li,setCurrentAttachments:Oi,connectedAgent:void 0,quickReplyButtons:[],setQuickReplyButtons:Oi,setIsWaitingForReplyAfterButtons:Oi,isWaitingForReplyAfterButtons:!1,isMessageAlreadySent:!1,setIsMessageAlreadySent:Oi,fetchMoreMessages:Oi,widgetPosition:void 0,shouldFetchMore:!0,isUserSettingsModalOpen:!1,setIsUserSettingsModalOpen:Oi,hasNotificationSound:!1,setHasNotificationSound:Oi,changeLanguage:Oi,activeLanguage:"en"})),Di=e=>e&&"LOCAL_THREAD"!==e,Ui=()=>A(Ri),xi=e=>{var i,s,l,c,u,A,d,m,p,h,g,f,v,y,_,{children:E}=e,[w,b]=t(Bi),[T,I]=t(void 0),[C,k]=t({widgetUrl:"",screenSize:[]}),{initialize:S,track:M}=fn(),[B,O]=t(void 0),[L,R]=t(void 0),[D,U]=t("/"),[F,N]=t(!1),[Q,H]=t(void 0),{selectedThread:W,widgetId:j}=w,{storageState:G,setStorageState:Y}=Ie("route",ln.Home,j),[Z,J]=t(0),[$,ee]=t(!1),{storageState:ne,setStorageState:re}=Ie("lastMessageSeenTimeStamp",void 0,j),{storageState:ae,setStorageState:ie}=Ie("failedMessagesQueue",[],j),[oe,Ae]=t(!1),{storageState:de,setStorageState:me}=Ie("hasWidgetBeenOpened",!1,j),{storageState:ge,setStorageState:ve}=Ie("hasWidgetApiBeenCalled",!1,j),{storageState:ye,setStorageState:be}=Ie("isNativeApp",!1,j),{storageState:Te,setStorageState:ke}=Ie("notificationSound",null,j),{storageState:Se,setStorageState:Me}=Ie("userLang",(null==w||null===(i=w.config)||void 0===i?void 0:i.defaultLanguage)||"en",j),{storageState:Be,setStorageState:Le}=Ie("hasConsent",null,"mb"),[Re,De]=t({}),[Ue,xe]=t(""),[Fe,Ne]=t([]),[Qe,Ve]=t([]),He=a(!1),We=a(!1),je=a(void 0),ze=a(null),qe=a(void 0),Ge=n((()=>{var e,t,n;null===(e=je.current)||void 0===e||e.call(je),je.current=void 0,null===(t=qe.current)||void 0===t||t.call(qe),qe.current=void 0,null===(n=ze.current)||void 0===n||n.call(ze),ze.current=void 0,He.current=!1,We.current=!1}),[]),Ye=null===(s=w.windowConfig)||void 0===s?void 0:s.previewMode,Ke=de||ye||ge,{auth:Ze,store:Je}=(e=>{var{shouldLoad:t,widgetId:n,isPreviewMode:r}=e,a=ia(!r&&t,n),{store:i}=qr(n,"AUTH_READY"===a.currentState&&!r);return{store:i,auth:a,state:oa}})({shouldLoad:Ke,widgetId:j,isPreviewMode:Ye}),{uid:Xe,authToken:$e,isUserReady:et,updateUser:tt,logout:nt,loginVisitor:rt}=Ze,at=n(function(){var e=se((function*(e){yield null==Je?void 0:Je.updateMessageStatus(Xe,W,e)}));return function(t){return e.apply(this,arguments)}}(),[Je,Xe,W]),{handleButtonsFlow:ut,setQuickReplyButtons:At,quickReplyButtons:dt,isWaitingForReplyAfterButtons:mt,setIsWaitingForReplyAfterButtons:pt}=(e=>{var[r,a]=t(!1),[i,o]=t([]);return{handleButtonsFlow:n((e=>{var t,n,r,i,s,l,c,u=e[e.length-1],A=lt(e,(e=>"outgoing"===e.direction)),d="incoming"===(null==u?void 0:u.direction),m=!(null!=A&&A.metadata&&"conversationBridging"in(null==A||null===(t=A.metadata)||void 0===t?void 0:t.source));null!=A&&null!==(n=A.payload)&&void 0!==n&&n.buttons||a(!1),d&&m&&(null==A||null===(r=A.payload)||void 0===r||null===(i=r.buttons)||void 0===i?void 0:i.length)>0&&q((()=>a(!0))),null!=u&&null!==(s=u.payload)&&void 0!==s&&s.buttons&&!u.event&&m&&(a(!1),o(null===(l=e[e.length-1])||void 0===l||null===(c=l.payload)||void 0===c?void 0:c.buttons))}),[]),quickReplyButtons:i,setQuickReplyButtons:o,isWaitingForReplyAfterButtons:r,setIsWaitingForReplyAfterButtons:a}})(w.messages[W]),ht=n((()=>{b((e=>ki(ki({},e),{},{selectedThread:Bi.selectedThread,messages:Bi.messages,threads:Bi.threads}))),Y(ln.Home),Rr("RESET_USER_STATE",j,Xe,{}),De({}),J(0),I(void 0),H(void 0),At([]),Ve([]),ie([])}),[Y,ie,At,j,Xe]),gt=a(!1);r((()=>{!et&&gt.current&&(Ge(),ht()),gt.current=et}),[et,ht,Ge]);var ft=n(function(){var e=se((function*(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{var r,a,i;if(!Di(W))return Si.warn("User does not have a selected thread",{"user id":Xe}),ct(w.messages[W],e)?void ee(!0):(b((t=>{var n,r,a=te(n=[...t.messages[W]]).call(n,{id:te(r="".concat("STATIC:")).call(r,e),from:"",createdAt:new Date,payload:{text:e},direction:"incoming",status:"sending",type:"text"});return ki(ki({},t),{},{messages:ki(ki({},t.messages),{},{[W]:a})})})),void ie((t=>X(t).call(t,(t=>t.payload.text!==e)))));var o=null!==(r=w.messages.LOCAL_THREAD)&&void 0!==r&&r.length?w.messages.LOCAL_THREAD:[],s=null!==(a=w.messages[W])&&void 0!==a&&a.length?w.messages[W]:[];if(!n.shouldByPassSameMessageCheck&&ct([...s,...o],e))return void ee(!0);b((n=>{var r,a;return ki(ki({},n),{},{messages:ki(ki({},n.messages),{},{[W]:te(r=[...null!==(a=n.messages[W])&&void 0!==a?a:[]]).call(r,{id:e,from:"",createdAt:new Date,payload:{text:e},direction:"incoming",status:"sending",event:t})})})})),yield null==Je||null===(i=Je.sendMessage)||void 0===i?void 0:i.call(Je,Xe,W,e,ki(ki({},C),{},{attributes:Re}),t,Qe),ie((t=>X(t).call(t,(t=>t.payload.text!==e))))}catch(n){fe(n,!e&&t?"failed_sending_event":"failed_sending_user_message"),M("livechat_failed_message"),ie((n=>{var r;return te(n).call(n,{id:te(r="".concat("STATIC:")).call(r,e),from:"",createdAt:new Date,payload:{text:e},direction:"incoming",status:"failed",event:t})}))}Ve([])}));return function(t,n){return e.apply(this,arguments)}}(),[Xe,Je,W,C,Re,Qe,w]),[vt,yt]=t(void 0);r((()=>{w.windowConfig&&!w.windowConfig.disableAnalytics&&S()}),[w,S]),r((()=>{Xe&&ue({type:"RETURN_VISITOR_ID",id:Xe})}),[Xe]),r((()=>{Ye&&w.isLoading&&b((e=>ki(ki({},e),{},{isLoading:!1})))}),[Ye,w]),r((()=>{var e,t;if(T){var n,r=K(e=w.config.popups).call(e,(e=>{var{id:t}=e;return t===T})),a={id:"".concat("STATIC:","popupText"),from:"",createdAt:new Date,payload:{text:la(r.templates,null==w||null===(t=w.config)||void 0===t?void 0:t.defaultLanguage)},direction:"outgoing",metadata:{source:{popupId:r.id}},status:"received",type:"text"};if(et&&Je&&Di(W))return b((e=>{var t,n;return ki(ki({},e),{},{messages:{[W]:te(t=[...null!==(n=e.messages[W])&&void 0!==n?n:[]]).call(t,a)}})})),void Pt({type:"PopupClicked",language:null==w||null===(n=w.config)||void 0===n?void 0:n.defaultLanguage,popupID:T})}}),[Xe,T,W,Q]),r((()=>{if(Q&&T&&null!=w&&w.messages[W]){var e,t,n,r=null==w?void 0:w.messages[W][(null==w?void 0:w.messages[W].length)-1];(null!=r&&r.metadata&&"source"in(null==r?void 0:r.metadata)&&"popupId"in(null===(e=r.metadata)||void 0===e?void 0:e.source)?null==r||null===(t=r.metadata)||void 0===t||null===(n=t.source)||void 0===n?void 0:n.popupId:void 0)===T&&(ft(Q),I(void 0),H(void 0))}}),[Q,T,w.messages,W,ft]);var _t=n((e=>{Le(e),et&&Je&&null===Be&&Je.setUserAcceptedTerms(Xe,e)}),[Le,et,Je,Be,Xe]),Et=null==w||null===(l=w.config)||void 0===l?void 0:l.supportedLanguages,wt=null==w||null===(c=w.config)||void 0===c?void 0:c.defaultLanguage;it(wt,Se,Et,Ye,j);var bt=n((e=>{Me(e),ot(e,wt,Et,j)}),[wt,Et,j,Me]),Tt=n((e=>{switch(Si.info("Received a message from another tab via broadcastChannel",{"message content":e}),e.type){case"IDENTIFY_BEGIN":case"LOGOUT_BEGIN":return Ge(),void Si.info("Cancelled Firestore subscriptions.");case"LOGOUT_COMPLETE":return ht(),tt(e.newUid,e.newToken,e.newExpirationTime),void Si.info("Using new user id sent by another tab",{"new user id":e.newUid});case"IDENTIFY_COMPLETE":return ht(),tt(e.newUid,e.newToken,e.newExpirationTime),e.attributes&&De(e.attributes),void Si.info("Using new user id sent by another tab",{"new user id":e.newUid});case"NEW_ATTRIBUTES":return Rr("NEW_ATTRIBUTES_FROM_DIFFERENT_TAB",j,Xe,e.attributes),void De(e.attributes);default:return}}),[tt,ht,Ge,Xe,j]),{broadcastMessage:It}=Ha(j,Tt);(e=>{var[a,i]=t(null),o=n((t=>{"SET_WIDGET_ID"!==t.data.type?e(t.data):i(t.data.payload.widgetId)}),[e]);r((()=>{a&&ue({type:"IFRAME_READY_WITH_WIDGET_ID",widgetId:a})}),[a]),r((()=>(window.addEventListener("message",o),ue({type:"IFRAME_READY"}),()=>{window.removeEventListener("message",o)})),[o])})(n(function(){var e=se((function*(e){var t;if(e)switch(e.type){case"IFRAME_LOADED":var{metadata:n,windowConfig:r,parentInnerHeight:a,widgetPosition:i,isNativeMode:o}=e.payload;return k((e=>ki(ki({},e),n))),O(a),o&&be(!0),i&&(R(i),Si.info("setting widget position",{"widget position":i})),b((e=>ki(ki({},e),{},{config:ki(ki({},r),e.config),widgetId:null==r?void 0:r.widgetId,windowConfig:r})));case"INITIALIZE":return Be&&S(),Y(ln.Home),b((t=>ki(ki({},t),{},{widgetId:e.payload.widgetId||t.widgetId,config:ki(ki(ki(ki({},t.config),e.payload.config),e.payload.windowConfig),vn(e.payload.widgetId||t.widgetId)),windowConfig:ki(ki({},t.windowConfig),e.payload.windowConfig)})));case"UPDATE_CONFIG":var s,l;if(null!=e&&null!==(s=e.payload)&&void 0!==s&&null!==(l=s.config)&&void 0!==l&&l.popups){var c,u,A,d,m,p=(null===(c=e.payload.config.popups)||void 0===c||null===(u=c[0])||void 0===u||null===(A=u.templates)||void 0===A?void 0:A.en)||(null===(d=e.payload.config.popups)||void 0===d||null===(m=d[0])||void 0===m?void 0:m.buttonsEnabled);Ne(p?e.payload.config.popups:[])}return b((t=>ki(ki({},t),{},{config:ki(ki({},t.config),e.payload.config)})));case"SET_LANGUAGE":return void bt(e.payload.language);case"TOGGLE_CHAT":return Ae(e.payload);case"SET_ATTRIBUTES":return Rr("SET_ATTRIBUTES_CALL",j,Xe,e.payload),It({type:"NEW_ATTRIBUTES",attributes:e.payload}),De(e.payload);case"IDENTIFY_VISITOR":var h=e.payload.id;try{if(ve(!0),e.payload.attributes&&(Rr("IDENTIFY_VISITOR_CALL",j,Xe,e.payload.attributes),De(e.payload.attributes),It({type:"NEW_ATTRIBUTES",attributes:e.payload.attributes})),h===Xe)return void ue({type:"LOGIN_COMPLETE"});On("livechatwidget_identify_base",{widgetId:j,uid:Xe}),It({type:"IDENTIFY_BEGIN"}),Ge(),Si.info("Start identifying user...",{"to be identified":h});var{newUid:g,newToken:f,newExpirationTime:v}=yield rt(h);Si.success("Successfully identified user",{identified:h}),It({type:"IDENTIFY_COMPLETE",newUid:g,newToken:f,newExpirationTime:v,attributes:e.payload.attributes}),e.payload.attributes&&(Rr("IDENTIFY_VISITOR_CALL_AFTER_AUTH",j,Xe,e.payload.attributes),De(e.payload.attributes),It({type:"NEW_ATTRIBUTES",attributes:e.payload.attributes})),ue({type:"LOGIN_COMPLETE"}),On("livechatwidget_identify_success",{widgetId:j,toBeIdentifiedId:h})}catch(e){var y,_=e;On(_ instanceof Jr?"livechatwidget_identify_known_error":"livechatwidget_identify_error",{widgetId:j,toBeIdentifiedId:h}),fe(_,"error identifying user"),ue({type:"LOGIN_COMPLETE",error:null!==(y=null==_?void 0:_.message)&&void 0!==y?y:"failed"})}break;case"CHANGE_VIEW":if(ln.Chat===e.payload.view||ln.Home===e.payload.view)return Y(e.payload.view);break;case"URL_CHANGED":var{url:E}=e.payload;U(E);break;case"WIDGET_LOADED_METRIC":t=e.payload,Bn({type:"histogram",method:"observe",name:"livechatwidget_widget_bootstrap_rendered_perf",value:Math.round(t),buckets:Ei,labels:{connectionType:bi(),deviceType:wi()}});break;case"START_CONVERSATION":ft(e.payload.text);break;case"LOGOUT_LIVECHAT":try{ve(!0),j&&(Ge(),It({type:"LOGOUT_BEGIN"}),(e=>{var t=[e,"hasSeenMessagePopup"],n=function(e){pe(t).call(t,(t=>x(e).call(e,t)))&&(null==he||he.removeItem(e))};for(var r in he)n(r)})(j),q(se((function*(){var{newUid:e,newToken:t,newExpirationTime:n}=yield nt();ue({type:"LOGOUT_COMPLETE"}),It({type:"LOGOUT_COMPLETE",newUid:e,newToken:t,newExpirationTime:n})}))))}catch(e){ue({type:"LOGOUT_COMPLETE"})}}}));return function(t){return e.apply(this,arguments)}}(),[be,It,Be,S,rt,nt,Y,ft,Xe,j,Ge,De,Ne,b,k,Ae,bt,ve])),r((()=>{(()=>{if(j&&Xe&&!Di(W)){var e,t,n=(e="messages",X(t=V(he)).call(t,(t=>x(t).call(t,e))));z(n).call(n,(e=>{Ee(e)}))}})()}),[j,Xe,W,b]);var Ct=a(null),kt=a(0),St=n(function(){var e=se((function*(e,t){try{var n;On("livechat_storage_thread_creation_base"),Si.info("Attached getThreads subscriber...");var r=te(n="thread:".concat(t,":")).call(n,e);Ct.current||(Ct.current=q(se((function*(){yield Pe(t,$e)})),1500));var a=yield Je.getThreads(e,qe),i=V(a)[0];i?(clearTimeout(Ct.current),_e(r,a),Ct.current=null,b((e=>(e.selectedThread!==i&&Si.success("Retrieved user threads from Firestore...",{"current thread id":i}),On("livechat_storage_thread_creation_success"),ki(ki({},e),{},{threads:a,selectedThread:i}))))):kt.current<5&&(kt.current++,yield St(e,t))}catch(e){On("livechat_storage_thread_creation_error"),Si.error("Failed to create or get threads from FireStore!",e),fe(e,"thread get or creation failure")}}));return function(t,n){return e.apply(this,arguments)}}(),[Je,b,$e]),Mt=!0===(null==w||null===(u=w.config)||void 0===u?void 0:u.hideConsentMessage);r((()=>{function e(){return(e=se((function*(){try{var e=yield Je.getUserDetails(Xe);Si.info("Getting user data from Firestore",{"user data":e}),null!=e&&e.createdAt||(Si.info("No user found, creating user in Firestore",{"user data":e}),yield Je.createUser(Xe)),Mt?(_t(!1),b((e=>ki(ki({},e),{},{hasConsent:!1})))):null!=e&&e.createdAt&&null!==(null==e?void 0:e.acceptedTermsAndConditions)&&null===Be&&(Si.info("Updating user consent status...",{"current consent status":Be,"consent status from Firestore":e.acceptedTermsAndConditions}),Le(e.acceptedTermsAndConditions)),yield St(Xe,j)}catch(e){Si.error("Failed to create a thread via MAPI!",e),fe(e,"failed_creating_user_thread")}}))).apply(this,arguments)}!Di(W)&&et&&Je&&function(){e.apply(this,arguments)}()}),[_t,Mt,j,St,W,Je,Xe,Le,et,Be,$e]);var Bt=n((e=>{var t;if(!ne&&e.length){var n=lt(e,(e=>"read"===e.status&&"outgoing"===e.direction));re(null==n||null===(t=n.createdAt)||void 0===t?void 0:t.toString())}}),[ne,re]),Ot=n((e=>{ut(e),b((t=>ki(ki({},t),{},{messages:ki(ki({},t.messages),{},{[W]:e})}))),w.isLoading&&q((()=>{b((e=>ki(ki({},e),{},{isLoading:!1})))}),10)}),[ut,b,w,W]),Lt=a(Ye||!1),Rt=n(((e,t)=>{Lt.current=t,b((t=>ki(ki({},t),{},{oldMessages:{[W]:[...e,...t.oldMessages[W]||[]]}})))}),[b,W]),Dt=n(se((function*(){if(!Lt.current&&Je&&et){var{messages:e,shouldNotFetchMore:t}=yield null==Je?void 0:Je.fetchMoreMessages(Xe,W);Rt(e,t)}})),[Je,W,Rt,Xe,et]);r((()=>{var e=function(){var e=se((function*(){if(Ye&&(Lt.current=!0),!We.current&&Je&&et&&!Ye&&!He.current&&!ze.current&&Di(W)){We.current=!0;var e=yield Je.getInitialMessages(Xe,W,ze);ut(e),b((t=>ki(ki({},t),{},{oldMessages:{[W]:e}}))),Bt(e),He.current=!0}}));return function(){return e.apply(this,arguments)}}(),t=function(){var e=se((function*(){Di(W)&&!Ye&&Je&&et&&!je.current&&He.current&&Je.subscribeToMessagesMessages(Xe,W,Ot,je)}));return function(){return e.apply(this,arguments)}}();e(),t()}),[Ot,et,W,w.messages,Je,Xe,j,Ye,w,ut,Bt]);var Ut=n(function(){var e=se((function*(e){var t=yield null==Je?void 0:Je.getConnectedAgent(e);b((e=>ki(ki({},e),{},{connectedAgent:t})))}));return function(t){return e.apply(this,arguments)}}(),[Je]);r((()=>{var e,t=null!==(e=W&&(null==w?void 0:w.threads)&&w.threads[W].connectedTo)&&void 0!==e?e:void 0;Xe&&t&&!w.connectedAgent&&Ut(t)}),[W,w,Je,Xe,Ut]);var xt=null==w||null===(A=w.config)||void 0===A?void 0:A.showAgents;r((()=>{var e=function(){var e=se((function*(){Si.info("Started fetching agents from FireStore");try{var e=yield Je.getAgents();b((t=>ki(ki({},t),{},{agents:e}))),Si.success("Fetched agents from FireStore successfully",{"current agents":e})}catch(e){Si.error("Failed to fetch agents from FireStore!",e)}}));return function(){return e.apply(this,arguments)}}();Je&&xt&&void 0===w.agents&&et&&e()}),[Xe,xt,w.agents,Je,et]);var Ft=null===(d=w.messages)||void 0===d||null===(m=d[W])||void 0===m?void 0:m.length;r((()=>{if(Ft>0){var e=ce(w.messages[W]),t=new Date(null==e?void 0:e.createdAt).toString(),n=new Date(ne).toString();if(void 0!==ne&&n===t)J(0);else{var r,a,i=(e=>X(e).call(e,(e=>le(e))))(w.messages[W]),o=X(r=X(a=P(i).call(i,(e=>ki(ki({},e),{},{createdAt:new Date(e.createdAt)})))).call(a,(e=>!ne||e.createdAt>=new Date(ne)))).call(r,(e=>{var t;return(null===(t=e.createdAt)||void 0===t?void 0:t.toString())!==ne}));J(o.length);var s=w.messages[W],l=s&&s.length?s[s.length-1]:void 0;l&&yt(l.id)}}}),[ne,Ft,W,w.messages]),r((()=>{ue(Z?{type:"SET_DOCUMENT_TITLE",title:"(".concat(Z,") New Message(s)!")}:{type:"SET_DOCUMENT_TITLE",title:void 0})}),[Z]),r((()=>{oe&&me(!0)}),[oe,me]);var Nt=G;r((()=>{"undefined"!==Nt&&void 0!==Nt||(fe("Route not found, redirecting to home"),Y(ln.Home))}),[Nt,Y]);var Pt=n((e=>{var[t]=navigator.language.split("-"),n=x(Oe).call(Oe,t)?t:wt;"PopupClicked"===e.type&&(n=wt),ft("",ki(ki({},e),{},{language:"ConversationBridgingOTPStart"===e.type||"PopupClicked"===e.type?n:"undefined"}))}),[wt,ft]);r((()=>{(function(){var e=se((function*(){var e;if(null!==(e=w.messages.LOCAL_THREAD)&&void 0!==e&&e.length&&!w.isLoading&&Di(W)){var t=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(null==t||!t.length)return[];var n=st(t,(e=>"sending"===e.status&&"incoming"===e.direction),30)||[];return Aa(e=[...n]).call(e)}(w.messages.LOCAL_THREAD);b((e=>ki(ki({},e),{},{messages:ki(ki({},e.messages),{},{LOCAL_THREAD:[]})}))),Si.info("".concat(t.length," messages to be sent"));for(var n=0;n<t.length;n++){var r=t[n];Si.info("sending queued message",{message:r});var a=r.payload.text,i=r.event;yield ft(a,i,{shouldByPassSameMessageCheck:!0})}}}));return function(){return e.apply(this,arguments)}})()()}),[W,ft,w]);var Qt=n(function(){var e=se((function*(e){var t;return null==Je||null===(t=Je.sendFakeOutgoingMessage)||void 0===t?void 0:t.call(Je,Xe,W,e)}));return function(t){return e.apply(this,arguments)}}(),[Je,W,Xe]),Vt=null==w||null===(p=w.config)||void 0===p?void 0:p.popups,Ht=n((()=>{var e=D;if(j&&(null==Vt?void 0:Vt.length)>0){var t=X(Vt).call(Vt,(t=>{if(!t.enabled)return!1;if(we("hasSeenMessagePopup:".concat(t.id))&&"showOnce"===t.showSetting)return!1;if(null===t.conditions||void 0===typeof t.conditions)return!0;var n,r=!1;t.conditions&&z(n=t.conditions).call(n,(t=>{"show"===t.display&&"exact"===t.match&&t.text===e&&(r=!0),"show"===t.display&&"contains"===t.match&&x(e).call(e,t.text)&&(r=!0),"hide"===t.display&&"exact"===t.match&&t.text===e&&(r=!1),"hide"===t.display&&"contains"===t.match&&x(e).call(e,t.text)&&(r=!1)}));return r}));Ne(t)}}),[Vt,D,j]);r((()=>{Ht&&Ht()}),[D]);(e=>{r((()=>{if(e)for(var t in Ce){var n=Ce[t];e[n]&&document.documentElement.style.setProperty(t,e[n])}}),[e])})(null===(h=w.config)||void 0===h?void 0:h.styles);var Wt,jt,zt=!!Ye||!!j,qt=[...null!==(g=null===(f=w.oldMessages)||void 0===f?void 0:f[W])&&void 0!==g?g:[],...null!==(v=null===(y=w.messages)||void 0===y?void 0:y[W])&&void 0!==v?v:[],...ae];return o.createElement(Ri.Provider,{value:ki(ki({},w),{},{isLoading:!et&&!Ye,isOpen:oe,playedSoundLatestMessageId:vt,push:Y,currentRoute:G,toggleWidgetOpenState:e=>{Ae((t=>{!1===t&&(e=>{var t="widgetLoadCount:".concat(e),n=we(t);_e(t,n?n+1:1)})(j);var n=void 0===e?!t:e;return ue({type:"TOGGLE",isOpen:n}),n}))},messages:Ye?(Wt=null==w||null===(_=w.config)||void 0===_?void 0:_.availableChannels,null!=Wt&&Wt.length?[kr[1],{id:"3",payload:{text:"",buttons:P(jt=X(Wt).call(Wt,(e=>"DISABLED"!==e.bridging&&x(Ir).call(Ir,e.platform)))).call(jt,(e=>{var t;return{id:te(t="".concat(e.platform,":")).call(t,e.platformIdentifier),url:"https://messagebird.com",text:e.platform,value:e.platformIdentifier}}))},type:"text",from:"",direction:"outgoing",status:"sent",createdAt:new Date,metadata:{source:{conversationBridging:{code:"123456789"}}}}]:kr):qt,isPreviewMode:Ye,sendMessage:ft,sendEvent:Pt,sendFakeOutgoingMessage:Qt,newMessages:Z,latestSeenMessage:ne,setLatestSeenMessage:re,setDataConsent:_t,hasConsent:Be,connectChannelLink:Ue,setConnectChannelLink:xe,parentInnerHeight:B,messagePopups:Fe,setAllCurrentPopupsAsSeen:()=>{(null==Fe?void 0:Fe.length)>0&&z(Fe).call(Fe,(e=>{e.showSetting&&"showOnce"!==e.showSetting||_e("hasSeenMessagePopup:".concat(e.id),!0)})),Ne([])},dismissPopup:e=>{var t=X(Fe).call(Fe,(t=>t.id!==e));Ne(t),_e("hasSeenMessagePopup:".concat(e),!0)},setSelectedPopup:I,setSelectedPopupButton:H,authToken:$e,uid:Xe,updateMessageStatus:at,currentAttachments:Qe,setCurrentAttachments:Ve,quickReplyButtons:dt,setQuickReplyButtons:At,isWaitingForReplyAfterButtons:mt,setIsWaitingForReplyAfterButtons:pt,isMessageAlreadySent:$,widgetPosition:L,setIsMessageAlreadySent:ee,fetchMoreMessages:Dt,shouldFetchMore:Lt.current,isUserSettingsModalOpen:F,setIsUserSettingsModalOpen:N,hasNotificationSound:Te,setHasNotificationSound:ke,changeLanguage:bt,activeLanguage:Se})},zt?E:null)},Fi=new(0,m.URLSearchParams)(window.location.search).get("disableAudio"),Ni=(e,n)=>{var a=i((()=>{try{return Fi?void 0:new Audio(e)}catch(e){return void fe(e,"error initializing audio")}}),[e]),[o,s]=t(!1),l=()=>{s(!1)};return r((()=>{!Fi&&n&&(null==a||a.addEventListener("ended",l))}),[a,n]),[o,function(){var e=se((function*(){try{if(s(!0),Fi||!n)return;yield null==a?void 0:a.play()}catch(t){var e=t;if("NotAllowedError"===e.name||"NotSupportedError"===e.name)return;fe(e)}}));return function(){return e.apply(this,arguments)}}()]},Pi=e=>{var t=a();return r((()=>{t.current=e}),[e]),t.current},Qi="data:audio/ogg;base64,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",Vi="styles_wrapper__2J-67",Hi="styles_whiteFallback__1kfpl",Wi="styles_messagesAmount__2YJTd",ji=[.2126,.7152,.0722],zi=e=>{try{var t=(e=>{var t;return P(t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((e,t,n,r)=>"#"+t+t+n+n+r+r)).substring(1).match(/.{2}/g)).call(t,(e=>Ae(e,16)))})(e);return He(t).call(t,((e,t,n)=>{var r=t*ji[n];return void 0!==e?r+e:r}),void 0)>235}catch(e){return!1}},qi=32,Gi=32,Yi=e=>{var t,n,a,{icon:i,isOpen:s,messagesAmount:l,onClick:c}=e,{isPreviewMode:u,config:A,hasNotificationSound:m}=Ui(),p=Pi(l),[h,g]=Ni(Qi,m);r((()=>{!s&&void 0!==l&&l>0&&void 0!==p&&l!==p&&!h&&!u&&g()}),[l,p,h,g,s,u]),d((()=>{ue({type:"IFRAME_CONTENT_RENDERED"})}),[]),r((()=>{s&&Ti("lazy")}),[s]);var f=zi(null==A||null===(t=A.styles)||void 0===t?void 0:t.mainColor),v=zi(null==A||null===(n=A.styles)||void 0===n?void 0:n.secondaryColor);return!0===(null==A?void 0:A.hideOCWButton)?null:o.createElement("div",{"data-testid":"start-button",className:te(a="".concat(Vi," ")).call(a,f?Hi:""),onClick:c,onKeyPress:c,role:"button",tabIndex:0},void 0!==l&&l>0&&o.createElement("div",{"data-testid":"unread-messages-notification",className:Wi},l),s?o.createElement(un,{color:v&&f?"#0089ff":"#ffffff",width:qi,height:Gi}):o.createElement(Ki,{icon:i}))},Ki=e=>{var{icon:t}=e;return t?o.createElement("img",{src:t,style:{maxWidth:"48px",maxHeight:"48px",marginTop:"-3px"},alt:"Chat Widget Button",loading:"lazy"}):o.createElement(mn,{color:"#ffffff",width:qi,height:Gi})},Zi="styles_wrapper__d7uG7",Ji="styles_wrapperLeft__2aFSa",Xi={widget:"styles_widget__2g5UX",widgetLeft:"styles_widgetLeft__18pbC",opened:"styles_opened__3NvNz","slide-up":"styles_slide-up__1ZeLY",withPopups:"styles_withPopups__3LhvR",noScroll:"styles_noScroll__2VQlC",closedWithPops:"styles_closedWithPops__n-1T2",closedWithOutPops:"styles_closedWithOutPops__2iD63",closed:"styles_closed__2WIQl","slide-down":"styles_slide-down__17voM",widgetBody:"styles_widgetBody__2PS3E",withConversations:"styles_withConversations__3U-zm",widgetContainer:"styles_widgetContainer__1GpQ0",widgetWrapper:"styles_widgetWrapper__1LyF3",homeWrapper:"styles_homeWrapper__3VIPb",homeWrapperReversed:"styles_homeWrapperReversed__fyKB1",footer:"styles_footer__1DjbU"},$i=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var a=r[n];e.call(t,a[1],a[0])}},t}()}(),eo="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,to="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),no="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(to):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var ro=["top","right","bottom","left","width","height","size","weight"],ao="undefined"!=typeof MutationObserver,io=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,a=0;function i(){n&&(n=!1,e()),r&&s()}function o(){no(i)}function s(){var e=Date.now();if(n){if(e-a<2)return;r=!0}else n=!0,r=!1,setTimeout(o,t);a=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){eo&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),ao?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){eo&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;ro.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),oo=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];Object.defineProperty(e,a,{value:t[a],enumerable:!1,writable:!1,configurable:!0})}return e},so=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||to},lo=ho(0,0,0,0);function co(e){return parseFloat(e)||0}function uo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+co(e["border-"+n+"-width"])}),0)}function Ao(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return lo;var r=so(e).getComputedStyle(e),a=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var a=r[n],i=e["padding-"+a];t[a]=co(i)}return t}(r),i=a.left+a.right,o=a.top+a.bottom,s=co(r.width),l=co(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==t&&(s-=uo(r,"left","right")+i),Math.round(l+o)!==n&&(l-=uo(r,"top","bottom")+o)),!function(e){return e===so(e).document.documentElement}(e)){var c=Math.round(s+i)-t,u=Math.round(l+o)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return ho(a.left,a.top,s,l)}var mo="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof so(e).SVGGraphicsElement}:function(e){return e instanceof so(e).SVGElement&&"function"==typeof e.getBBox};function po(e){return eo?mo(e)?function(e){var t=e.getBBox();return ho(0,0,t.width,t.height)}(e):Ao(e):lo}function ho(e,t,n,r){return{x:e,y:t,width:n,height:r}}var go=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ho(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=po(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),fo=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,a=e.height,i="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(i.prototype);return oo(o,{x:t,y:n,width:r,height:a,top:n,right:t+r,bottom:a+n,left:t}),o}(t);oo(this,{target:e,contentRect:n})},vo=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new $i,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof so(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new go(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof so(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new fo(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),yo="undefined"!=typeof WeakMap?new WeakMap:new $i,_o=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=io.getInstance(),r=new vo(t,n,this);yo.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){_o.prototype[e]=function(){var t;return(t=yo.get(this))[e].apply(t,arguments)}}));var Eo=void 0!==to.ResizeObserver?to.ResizeObserver:_o,wo={width:0,height:0},bo=()=>{var e=document.getElementById("chat-widget-container"),t={width:(null==e?void 0:e.clientWidth)+32,height:(null==e?void 0:e.clientHeight)+32+64};if(wo.height!==t.height||wo.width!==t.width){var n={height:96,width:96},r=document.getElementById("close-icon"),a=document.getElementById("message-popups");if(!r&&!a)return wo=n,ue({type:"SET_IFRAME_SIZE",size:n});wo=t,ue({type:"SET_IFRAME_SIZE",size:{width:t.width<n.width?n.width:t.width,height:t.height<n.height?n.height:t.height}})}},To=new MutationObserver((()=>{bo()})),Io=new Eo((()=>{bo()})),Co=e=>{var t,n;return x(t=[e.key,e.code]).call(t,"Enter")||x(n=[e.keyCode,e.which]).call(n,13)},ko=e=>Co(e)&&!e.shiftKey,So=()=>{var e=a(null),t=n((t=>{if(Co(t)&&t.shiftKey){var n=e.current;q((()=>{n.scrollTop=n.scrollHeight-n.clientHeight+40}))}}),[e]);return r((()=>{var n=e.current;if(n)return n.addEventListener("keydown",t),()=>{null==n||n.removeEventListener("keydown",t)}}),[e,t]),e},Mo=e=>{var t,n,r,i,s,l,c,u,{isOpen:A,hasPopupMessages:d=!1,children:m}=e,p=b.useLingui(),h=So(),{currentRoute:g,widgetPosition:f,isUserSettingsModalOpen:v}=Ui(),y="Chat"===g,_=a(A),E=!0===_.current?Xi.closed:"";_.current=A;var w=nr(t=te(n=te(r=te(i=te(s=te(l=te(c="\n    ".concat(Xi.widget,"\n    ")).call(c,"left"===f?Xi.widgetLeft:"","\n    ")).call(l,y||v?Xi.noScroll:"","\n    ")).call(s,A?Xi.opened:E,"\n    ")).call(i,d?Xi.withPopups:"","\n    ")).call(r,!A&&d?Xi.closedWithPops:"","\n    ")).call(n,A||d?"":Xi.closedWithOutPops,"\n  ")).call(t);return o.createElement("div",{ref:h,id:"chat-widget-container",className:w},o.createElement(o.Fragment,{key:null==p||null===(u=p.i18n)||void 0===u?void 0:u.locale},m))},Bo="styles_popupsWrapper__-Tzdq",Oo="styles_popupsWrapperLeft__2gq_0",Lo="styles_bubbleClose__2V7OX",Ro="styles_closeButton__DpWpG",Do="styles_bubbleMessage__4_qu2",Uo="styles_popupButtons__ix5dC",xo="styles_popupButtonsLeft__2t2oD",Fo="styles_agentName__26_07",No="styles_withAgent__6dmG_",Po="styles_popupText__23XLQ",Qo={popupButton:"popupButton_popupButton__gZ8Gx",popupButtonIfTooWhite:"popupButton_popupButtonIfTooWhite__2hK_u"},Vo=e=>{var t,n,{text:r,handleClick:a}=e,{config:i}=Ui(),{track:s}=fn(),l=()=>{s("popup_button_click",{label:r}),a(r)};return o.createElement("button",{className:te(t="".concat(Qo.popupButton," ")).call(t,zi(null==i||null===(n=i.styles)||void 0===n?void 0:n.mainColor)?Qo.popupButtonIfTooWhite:""),onClick:l,onKeyPress:l,tabIndex:0},o.createElement("span",null,r))},Ho="styles_container__3EAmv",Wo="styles_profile__2Pzrb",jo="styles_loadingImage__2SHaZ",zo="styles_isPopup__14Rxf",qo=e=>{var{agents:t}=e;return void 0!==t&&null!=t&&t.length?o.createElement("div",{className:Ho,"data-testid":"agent-faces"},P(t).call(t,(e=>{var t;return o.createElement(Go,{key:te(t="".concat(e.avatarUrl,"-")).call(t,e.name),avatarUrl:e.avatarUrl})}))):null},Go=e=>{var n,r,{avatarUrl:a,isPopup:i}=e,[s,l]=t(!1),[c,u]=t(!1);return s?null:o.createElement("img",{className:te(n=te(r="".concat(Wo," ")).call(r,c?"":jo," ")).call(n,i?zo:""),alt:"agent profile images",src:a,onError:()=>{On("livechatwidget_agent_profile_image_error",{url:a}),l(!0)},onLoad:()=>u(!0)})},Yo=e=>{var n,i,s,{text:l,waitTime:c,id:u,defaultLanguage:A="en",buttonsEnabled:d=!0,buttons:m,agent:p,showSetting:h="showOnce"}=e,[g,f]=t(!1),v=a(null),{isOpen:y,toggleWidgetOpenState:_,setAllCurrentPopupsAsSeen:E,dismissPopup:w,push:b,isPreviewMode:T,setSelectedPopup:I,setSelectedPopupButton:C,quickReplyButtons:k,setQuickReplyButtons:S,widgetPosition:M}=Ui(),{storageState:B,setStorageState:O}=Ie("hasSeenMessagePopup",!1,u),L=!h||"showOnce"===h,R=e=>{T||(e&&(I(u),C(e)),L&&O(!0),_(!0),b(ln.Chat),E())},D=()=>{T||(d&&null!=m&&m.length&&0===(null==k?void 0:k.length)&&S(m),I(u),L&&O(!0),_(!0),b(ln.Chat),E())},U=e=>{var t;null==e||null===(t=e.stopPropagation)||void 0===t||t.call(e),T||w(u)};return r((()=>{if(y)return clearTimeout(v.current),void(v.current=null);var e=1e3*Ae(null==c?void 0:wt(c).call(c,0,-1));return v.current=q((()=>{f(!0)}),e),()=>{clearTimeout(v.current)}}),[y,c]),(y||!g||B&&L)&&!T?null:o.createElement(o.Fragment,null,o.createElement("div",{className:te(n="".concat(Do," ")).call(n,p?No:""),role:"button",tabIndex:0,onClick:D,onKeyPress:D},p&&o.createElement(Go,{avatarUrl:p.avatarUrl,isPopup:!0}),o.createElement("div",null,p&&o.createElement("p",{className:Fo},p.name),o.createElement("span",{className:Po},l),o.createElement("div",{className:Lo},o.createElement("div",{"data-testid":"dismiss-button",role:"button",tabIndex:0,onClick:U,onKeyPress:U,className:Ro},o.createElement(cn,{width:16,height:16,color:"#8192A8"}))))),d&&(null==m?void 0:m.length)>0&&o.createElement("div",{className:nr(i=te(s="".concat(Uo," ")).call(s,"left"===M?xo:"")).call(i)},P(m).call(m,((e,t)=>o.createElement(Vo,{key:t,text:la(e.message,A),handleClick:R})))))},Ko=()=>{var e,t,{config:n,messagePopups:r,isOpen:a,agents:i,widgetPosition:s}=Ui(),l=n.defaultLanguage||"en";if(0===(null==r?void 0:r.length)||a)return null;var c=nr(e=te(t="".concat(Bo," ")).call(t,"left"===s?Oo:"")).call(e);return o.createElement("div",{className:c,id:"message-popups"},P(r).call(r,(e=>o.createElement(Yo,en({key:e.id,text:la(e.templates,l),waitTime:e.waitTime,id:e.id,defaultLanguage:l,agent:i?i[0]:void 0},e)))))},Zo=()=>{"visible"===document.visibilityState&&Bn({type:"counter",name:"livechatwidget_app_version",method:"inc",labels:{version:window.livechat_version,loadType:"visibility"}})},Jo=()=>{document.removeEventListener("visibilitychange",Zo)},Xo=xn((()=>__import__("./index-chunk-52275f40.js"))),$o=()=>{var e,n,{isOpen:i,config:l,toggleWidgetOpenState:c,newMessages:u,messagePopups:A,widgetPosition:m,setAllCurrentPopupsAsSeen:p,setIsUserSettingsModalOpen:h}=Ui();(()=>{var[e,n]=t(document.getElementById("chat-widget-container"));r((()=>(e&&e===document.getElementById("chat-widget-container")?(bo(),To.observe(e,{attributes:!0,childList:!0,subtree:!0}),Io.observe(e)):n((()=>document.getElementById("chat-widget-container"))),()=>{e||(To.disconnect(),Io.disconnect())})),[e])})();var{track:g}=fn();r((()=>(i&&document.addEventListener("visibilitychange",Zo),Jo)),[i]);var f=((e,n)=>{var[r,i]=t(e),o=a(!1),s=a();return d((()=>{s.current&&clearTimeout(s.current),e?(o.current=!0,i(e)):o.current&&(s.current=q((()=>{i(e)}),n||700))}),[e,n]),o.current?r:e})(i,700),v=l.iconLogo||l.icon;return o.createElement("div",{className:nr(e=te(n="".concat(Zi," ")).call(n,"left"===m?Ji:"")).call(e)},o.createElement(Mo,{isOpen:i,hasPopupMessages:(null==A?void 0:A.length)>0},o.createElement(Ko,null),f&&o.createElement(s,{fallback:null},o.createElement(Xo,{isOpen:f}))),o.createElement(Yi,{icon:v,onClick:()=>{c(),h(!1),g("widget_toggled"),On("js_livechatwidget_widget_opened"),(null==A?void 0:A.length)>0&&!i&&p()},isOpen:i,messagesAmount:u}))},es="styles_container__2dHBd",ts="styles_header__27NYl",ns="styles_wrapper__3EDTN",rs="styles_openStartButton__33cTS",as=e=>o.createElement("div",{className:es},o.createElement("div",{className:ts}),o.createElement("div",{className:ns},o.createElement(dn,{width:32}),o.createElement("h2",null,"Whoops"),o.createElement("p",null,"Sorry! We were unable to load the chat"),o.createElement(ar,{onClick:()=>{ue({type:"RELOAD_IFRAME_AFTER_ERROR"})}},"Try again")),o.createElement("div",{className:rs},o.createElement(Yi,{isOpen:!0})));class is extends o.Component{constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e,t){ue({type:"SET_IFRAME_SIZE",size:{height:802,width:400}}),this.setState({hasError:!0}),fe(e,"cdc ".concat(null==e?void 0:e.message))}render(){return this.state.hasError?o.createElement(as,null):this.props.children}}(()=>{var e;if(x(e=["production","staging"]).call(e,"production")){_({ignoreErrors:["InvalidStateError: A mutation operation was attempted on a database that did not allow mutations.","SecurityError: IDBFactory.open() called in an invalid security context","InvalidStateError: Failed to execute 'transaction' on 'IDBDatabase': The database connection is closing.","SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.","Error: The project's quota for this operation has been exceeded.","A network error (such as timeout, interrupted connection or unreachable host) has occurred.","UnhandledRejection: Non-Error promise rejection captured with value:","Extension context invalidated","auth/timeout","Cross-origin script load denied by Cross-Origin Resource Sharing policy","Blocked a frame with origin","Failed to fetch",/network/i,"Failed to import","Failed to fetch dynamically imported module","Importing a module script failed","Failed to get document because the client is offline","UnknownError: Connection to Indexed Database server lost. Refresh the page to try again","Missing or insufficient permissions.","Unexpected token","SecurityError","AuthError","AbortError","Load failed"],environment:"production",dsn:"https://a5f42b895f0f45b9804f529db1afd7ec@o113111.ingest.sentry.io/5264329",release:window.release,integrations:[new E]})}})(),Ti("initial"),function(e,t){var n,r=Ai(),a=ri("LCP"),i=function(e){var t=e.startTime;t<r.firstHiddenTime&&(a.value=t,a.entries.push(e)),n()},o=ai("largest-contentful-paint",i);if(o){n=si(e,a,t);var s=function(){vi.has(a.id)||(o.takeRecords().map(i),o.disconnect(),vi.add(a.id),n(!0))};["keydown","click"].forEach((function(e){addEventListener(e,s,{once:!0,capture:!0})})),ii(s,!0),oi((function(r){a=ri("LCP"),n=si(e,a,t),requestAnimationFrame((function(){requestAnimationFrame((function(){a.value=performance.now()-r.timeStamp,vi.add(a.id),n(!0)}))}))}))}}(Ii("LCP")),function(e,t){var n,r=Ai(),a=ri("FID"),i=function(e){e.startTime<r.firstHiddenTime&&(a.value=e.processingStart-e.startTime,a.entries.push(e),n(!0))},o=ai("first-input",i);n=si(e,a,t),o&&ii((function(){o.takeRecords().map(i),o.disconnect()}),!0),o&&oi((function(){var r;a=ri("FID"),n=si(e,a,t),ti=[],$a=-1,Xa=null,fi(addEventListener),r=i,ti.push(r),hi()}))}(Ii("FID")),(()=>{try{new ni((e=>{for(var t of e.getEntriesByName("first-contentful-paint"))Bn({type:"histogram",method:"observe",name:"livechatwidget_FCP",buckets:Ei,value:Math.round(t.startTime),labels:{connectionType:bi(),deviceType:wi()}})})).observe({type:"paint",buffered:!0})}catch(e){}})();var os=()=>o.createElement(is,null,o.createElement(xi,null,o.createElement(b.I18nProvider,{forceRenderOnLocaleChange:!1,i18n:w},o.createElement($o,null))));o.render(o.createElement(s,{fallback:o.createElement(Yi,{isOpen:!1})},o.createElement(os,null)),document.getElementById("app"));export{ce as $,q as A,Te as B,yn as C,He as D,ar as E,Pi as F,xn as G,ko as H,nr as I,hn as J,z as K,mn as L,Bt as M,re as N,k as O,C as P,Pn as Q,ln as R,I as S,S as T,ur as U,B as V,Ar as W,So as X,Ni as Y,Qi as Z,sn as _,en as a,le as a0,lt as a1,K as a2,Tt as a3,Cr as a4,Ne as a5,Tn as a6,Xi as a7,qo as a8,Xt as b,te as c,wn as d,O as e,P as f,Mi as g,se as h,x as i,Fe as j,V as k,It as l,ht as m,pn as n,Mt as o,Tr as p,fn as q,X as r,kt as s,Ct as t,Ui as u,_n as v,pe as w,zi as x,un as y,Qo as z};
